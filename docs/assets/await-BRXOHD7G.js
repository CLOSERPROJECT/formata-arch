import{dq as d,dr as k,dF as A,dG as m,dH as g,dA as w,dI as x,dJ as l,dK as D,dL as H,dM as f,dN as L,dO as R,dP as S,bi as q,j as p,dQ as B,dR as G}from"./index-ClUUBe4R.js";const E=0,c=1;function O(v,T,y,r,u){d&&k();var _=B,t=p(_),n=p(_),s=new D(v);A(()=>{var i=T(),h=!1;let I=d&&m(i)===(v.data===g);if(I&&(w(x()),l(!1)),m(i)){var b=G(),N=!1;const a=e=>{if(!h){N=!0,b(!1),L.ensure(),d&&l(!1);try{e()}finally{R(),S||q()}}};i.then(e=>{a(()=>{f(t,e),s.ensure(c,r&&(o=>r(o,t)))})},e=>{a(()=>{if(f(n,e),s.ensure(c,u&&(o=>u(o,n))),!u)throw n.v})}),d?s.ensure(E,y):H(()=>{N||a(()=>{s.ensure(E,y)})})}else f(t,i),s.ensure(c,r&&(a=>r(a,t)));return I&&l(!0),()=>{h=!0}})}export{O as a};
