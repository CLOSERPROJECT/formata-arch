import{D as mt,bX as Kt,bY as jt,bZ as Ht,b_ as Yt,br as Xe,b$ as ge,c0 as Ne,c1 as Ze,c2 as Qe,c3 as zt,c4 as Jt,c5 as Gt,c6 as qt,M as l,c7 as Wt,c8 as Xt,c9 as Zt,ca as Qt,cb as er,cc as tr,cd as rr,ce as nr,cf as De,cg as ar,ch as He,ci as Ye,cj as sr,ck as or,cl as ir,cm as we,cn as Ie,co as lr,cp as cr,cq as ur,cr as ht,cs as dr,ct as et,cu as fr,cv as Le,cw as mr,cx as hr,cy as tt,as as vt,a9 as he,T as S,cz as vr,cA as gr,cB as _r,cC as yr,cD as pr,cE as Sr,cF as gt,cG as Or,cH as _t,cI as br,cJ as $r,cK as Ar,a7 as _e,a8 as Fr,p as L,F as T,cL as Rr,cM as Pr,ad as Re,cN as Er,cO as Dr,b as f,d as B,h as U,aC as Ve,f as y,a0 as J,a as x,cP as ze,cQ as xr,cR as Mr,cS as Je,c as N,cT as yt,cU as pt,b1 as Pe,at as St,W as K,cV as Ge,b6 as Tr,cW as Cr,cX as kr,cY as $e,cZ as wr,J as de,L as W,Q as re,E as qe,G as We,c_ as Ir,K as ye,N as le,O as G,S as q,V as Ee,c$ as Vr,d0 as Nr,d1 as Lr,d2 as Br,d3 as Ur,Y as ne,d4 as Kr,d5 as jr,d6 as rt,Z as oe,_ as ve,aZ as xe,ay as Hr,a4 as Yr,X as zr,d7 as Ot,$ as Jr,d8 as Gr,n as se,aD as ie,B as Ae,a3 as qr,ag as Te,ah as Ce,d9 as Wr,da as Xr,db as Zr,dc as Qr,aH as pe,ai as bt,dd as $t,de as en,df as tn,dg as rn,dh as nn,di as an,dj as sn,dk as on,dl as nt,dm as ln,dn as cn,dp as un,dq as dn,dr as fn,ds as mn,dt as hn,aI as vn,du as gn,dv as _n,dw as yn,dx as pn,dy as Sn,dz as On,dA as bn,dB as $n,au as An,ap as Fn,aq as Rn,ar as Pn,dC as En}from"./index-DJjTieaz.js";function ke(t,e,r={type:"root",path:[]}){if(!mt(t))return e(t,r);const a={...t};for(const s of Kt){const o=t[s];if(o===void 0||!Array.isArray(o))continue;const m={type:"array",parent:t,key:s,index:0,path:r.path.concat(s,0)};a[s]=o.map((h,D)=>(m.index=D,m.path[m.path.length-1]=D,ke(h,e,m)))}const n=new Map;for(const s of jt){const o=t[s];if(o===void 0)continue;const m={type:"record",parent:t,key:s,property:"",path:r.path.concat(s,"")},h=Object.keys(o),D=h.length;for(let p=0;p<D;p++){const w=h[p],O=o[w];if(Array.isArray(O)){n.set(w,O);continue}m.property=w,m.path[m.path.length-1]=w,n.set(w,ke(O,e,m))}a[s]=Object.fromEntries(n),n.clear()}const i={type:"sub",parent:t,key:"items",path:r.path.concat("")};for(const s of Ht){const o=t[s];o===void 0||Array.isArray(o)||(i.key=s,i.path[i.path.length-1]=s,a[s]=ke(o,e,i))}return e(a,r)}const At=(t,e)=>t?At(e%t,t):e,Dn=(t,e)=>Math.abs(t*e)/At(t,e);function xn(t,e){return t===e?t:`^(?=.*(?:${t}))(?=.*(?:${e})).*$`}function*Be(t,e,r){const a=t.length,n=e.length;if(a>0&&n>0)for(let i=0;i<a;i++){const s=t[i];for(let o=0;o<n;o++)yield r(s,e[o])}}function Ue(t,e){return t||e}function at(t){return(e,r)=>{const a={...e},n=Object.keys(r),i=n.length;for(let s=0;s<i;s++){const o=n[s];a[o]=e[o]===void 0?r[o]:t(e[o],r[o])}return a}}function Mn(t){const e=new Map;for(const r of t)for(const a of r[0])e.set(a,r[1]);return e}function Se(t,e,r){r===void 0||ge(r)?delete t[e]:t[e]=r}const Tn=["properties","patternProperties","additionalProperties"];function st(t){const e=Object.keys(t),r=e.length,a=[];for(let n=0;n<r;n++){const i=e[n];a.push({regExp:new RegExp(i),schema:t[i]})}return[a,e]}const ot=[[],[]];function it(t,e,r){const a=r.length;for(let n=0;n<a;n++){const i=r[n];if(!i.regExp.test(e))continue;const s=i.schema;if(s===!1)return!0;t.push(s)}return!1}const Cn=["items","additionalItems"],kn=["if","then","else"];function lt(t,e){return e.if!==void 0&&(t.if=e.if),e.then!==void 0&&(t.then=e.then),e.else!==void 0&&(t.else=e.else),t}function Ke(t,e){if(t===e)return t;switch(t){case"number":if(e==="integer")return"integer";case"integer":if(e==="number")return"integer";default:return}}function Oe(t,e,r){return[t,e,r]}function wn(t){const e=new Map;for(const[r,a,n]of t){const i=s=>{if(!n(s))throw new Error(`Schema keys '${r}' and '${a}' are conflicting (${r}: ${JSON.stringify(s[r])}, ${a}: ${JSON.stringify(s[a])})`)};for(const s of[[r,a],[a,r]]){let o=e.get(s[0]);o===void 0&&(o=[],e.set(s[0],o)),o.push({oppositeKey:s[1],check:i})}}return e}const In=[Oe("minimum","maximum",t=>t.maximum>=t.minimum),Oe("exclusiveMinimum","maximum",t=>t.maximum>t.exclusiveMinimum),Oe("minimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.minimum),Oe("exclusiveMinimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.exclusiveMinimum),Oe("minLength","maxLength",t=>t.maxLength>=t.minLength),Oe("minItems","maxItems",t=>t.maxItems>=t.minItems),Oe("minProperties","maxProperties",t=>t.maxProperties>=t.minProperties)];function Vn({mergePatterns:t=xn,isSubRegExp:e=Object.is,intersectJson:r=Yt,deduplicateJsonSchemaDef:a=Xe,defaultMerger:n=Xe,assigners:i=[],mergers:s,checks:o=In}={}){function m(c){const d=c.length;let u=c[0];for(let _=1;_<d;_++){const g=C(u,c[_]);if(g===!1)return!1;ge(g)||(u=g)}return u}function h(c,d,u,_,g,E,F){if(c.length=0,u===!1)return!1;if(c.push(u),g!==void 0){if(g===!1)return!1;c.push(g)}if(it(c,d,E))return!1;const P=c.length<2;if(F===!1){if(P)return;if(it(c,d,_))return!1}else P&&F!==void 0&&c.push(F);return c.length===1?c[0]:m(c)}function D(c,d,u,_,g,E){const F=u.length;if(F>0&&g!==!1)if(E)Object.assign(c,d);else for(let b=0;b<F;b++){const P=u[b];_.has(P)||(c[P]=C(d[P],g))}return c}const p=(c,{properties:d={},patternProperties:u,additionalProperties:_=!0},{properties:g={},patternProperties:E,additionalProperties:F=!0})=>{const b=ge(_),P=ge(F);if(b&&P)return Se(c,"properties",X(d,g)),Se(c,"patternProperties",u&&E?X(u,E):u??E),delete c.additionalProperties,c;const $=C(_,F);Se(c,"additionalProperties",$);const A={},R=Object.keys(d),j=R.length,[k,Q]=u?st(u):ot,[Y,ee]=E?st(E):ot,v=[],M=new Set,z=P?void 0:F;for(let me=0;me<j;me++){const ae=R[me];M.add(ae);const ce=h(v,ae,d[ae],k,g[ae],Y,z);ce!==void 0&&(A[ae]=ce)}const te=Object.keys(g),ue=te.length,Fe=b?void 0:_;for(let me=0;me<ue;me++){const ae=te[me];if(M.has(ae))continue;const ce=h(v,ae,g[ae],Y,void 0,k,Fe);ce!==void 0&&(A[ae]=ce)}Se(c,"properties",A);let fe={};const Me=new Set;if(Q.length>0&&ee.length>0){const me=Be(Q,ee,(ae,ce)=>{e(ae,ce)&&Me.add(ae),e(ce,ae)&&Me.add(ce),fe[t(ae,ce)]=C(u[ae],E[ce])});for(;!me.next().done;);}return fe=D(fe,u,Q,Me,F,P),fe=D(fe,E,ee,Me,_,b),Se(c,"patternProperties",fe),c},w=(c,{items:d=[],additionalItems:u},{items:_=[],additionalItems:g})=>{const E=Array.isArray(d),F=Array.isArray(_),b=[];if(c.items=b,E&&F){const[P,$,A]=d.length<_.length?[d.length,u,_]:[_.length,g,d];let R=0;for(;R<P;R++)b.push(C(d[R],_[R]));if($===!1)c.additionalItems=!1;else{const j=$===void 0||ge($);for(;R<A.length;R++)b.push(j?A[R]:C(A[R],$));Se(c,"additionalItems",u!==void 0&&g!==void 0?C(u,g):u??g)}}else if(E||F){const[P,$,A]=E?[d,_,u]:[_,d,g];Se(c,"additionalItems",A&&C(A,$));for(let R=0;R<P.length;R++)b.push(C(P[R],$))}else delete c.additionalItems,c.items=C(d,_);return c},O=(c,d,u)=>{lt(c,d);const _=lt({},u);return c.allOf===void 0?c.allOf=[_]:c.allOf=c.allOf.concat(_),c};function I(c,d){return a(Array.from(Be(c,d,C)))}const V=Mn([[Tn,p],[Cn,w],[kn,O],...i]),H=wn(o);function C(c,d){if(c===!1||d===!1)return!1;if(ge(c))return ge(d)?!0:d;if(ge(d))return c;let u={...c};const _=new Set,g=new Set,E=Object.keys(d),F=E.length;for(let b=0;b<F;b++){const P=E[b],$=d[P];if($===void 0)continue;const A=H.get(P);if(A!==void 0){const Q=A.length;for(let Y=0;Y<Q;Y++){const ee=A[Y];c[ee.oppositeKey]!==void 0&&g.add(ee.check)}}const R=c[P];if(R===void 0){u[P]=$;continue}const j=V.get(P);if(j){_.add(j);continue}const k=Z[P]??n;u[P]=k(R,$)}for(const b of _)u=b(u,c,d);for(const b of g)b(u);return u}const X=at(C),Z={$id:n,$ref:n,$schema:n,$comment:n,$defs:X,definitions:X,type:(c,d)=>{if(c===d)return c;const u=Array.isArray(c),_=Array.isArray(d);if(!u&&!_){const g=Ke(c,d);if(g!==void 0)return g}else if(u||_){const g=new Set;if(u&&_)for(const F of Be(c,d,Ke))F!==void 0&&g.add(F);else{const F=u?c:d,b=u?d:c,P=F.length;for(let $=0;$<P;$++){const A=Ke(b,F[$]);A!==void 0&&g.add(A)}}const E=g.size;if(E===1)return g.values().next().value;if(E>1)return Array.from(g)}throw new Error(`It is not possible to create an intersection of the following incompatible types: ${c.toString()}, ${d.toString()}`)},default:n,description:n,title:n,const:n,format:n,contentEncoding:n,contentMediaType:n,not:(c,d)=>{const u=a([c,d]);return u.length===1?u[0]:{anyOf:u}},pattern:t,readOnly:Ue,writeOnly:Ue,enum:(c,d)=>{const u=r(c,d);if(u.length===0)throw new Error(`Intersection of the following enums is empty: "${JSON.stringify(c)}", "${JSON.stringify(d)}"`);return u},anyOf:I,oneOf:I,allOf:(c,d)=>a(c.concat(d)),propertyNames:C,contains:C,dependencies:at((c,d)=>Array.isArray(c)?Array.isArray(d)?Ne(c,d):C(d,{required:c}):Array.isArray(d)?C(c,{required:d}):C(c,d)),examples:(c,d)=>{if(!Array.isArray(c)||!Array.isArray(d))throw new Error(`Value of the 'examples' field should be an array, but got "${JSON.stringify(c)}" and "${JSON.stringify(d)}"`);return Ne(c,d)},multipleOf:(c,d)=>{let u=1;for(;!Number.isInteger(c)||!Number.isInteger(d);)u*=10,c*=10,d*=10;return Dn(c,d)/u},exclusiveMaximum:Math.min,maximum:Math.min,maxItems:Math.min,maxLength:Math.min,maxProperties:Math.min,exclusiveMinimum:Math.max,minimum:Math.max,minItems:Math.max,minLength:Math.max,minProperties:Math.max,uniqueItems:Ue,required:Ne,...s};return{mergeSchemaDefinitions:C,mergeArrayOfSchemaDefinitions:m}}function Nn(t){const e=[],r=[t];for(;r.length>0;){const a=r.pop();if(typeof a=="boolean"||a.allOf===void 0){e.push(a);continue}const{allOf:n,...i}=a;e.push(i);for(let s=n.length-1;s>=0;s--)r.push(n[s])}return e}function Ln(t){return e=>t(Nn(e))}function Bn(t,e){return ke(t,r=>{if(!mt(r))return r;const a=r[Ze];return a!==void 0&&a.startsWith("#")&&(r[Ze]=`${e}${a}`),r})}function Un(t){return t.split("/").slice(1).map(e=>e.replace(/~1/g,"/").replace(/~0/g,"~"))}function Kn(t,e){const r=[];if(t==="")return r;const a=Un(t);let n=e;for(const i of a)if(Array.isArray(n)&&/^\d+$/.test(i)){const s=Number(i);r.push(s),n=n[s]}else r.push(i),n=n?.[i];return r}const Bs=[!0,!1];function je(t,e){return typeof t=="function"?t(e):t}const be=Symbol("unchanged");function jn(t){return function e(r,a){if(r===a)return be;if(typeof r=="object"&&typeof a=="object"){const n=Array.isArray(r),i=Array.isArray(a);if(n&&i){const s=Math.min(r.length,a.length);let o=0;for(;o<s;o++){const m=e(r[o],a[o]);m!==be&&(r[o]=m)}if(r.length!==a.length){const m=t.get(r)??r;for(;o<a.length;o++)m.push(a[o]);m.splice(a.length)}return be}if(!n&&!i&&r!==null&&a!==null&&Qe(r)&&Qe(a)){const s=Object.keys(r);let o=s.length;for(let h=0;h<o;h++){const D=s[h];D in a||delete r[D]}const m=Object.keys(a);o=m.length;for(let h=0;h<o;h++){const D=m[h],p=e(r[D],a[D]);p!==be&&(r[D]=p)}return be}}return a}}const Hn="uiOptionsRegistry";function Yn(t){let e=_e(Fr(t));return{get current(){return l(e)},set current(r){he(e,r,!0)}}}function zn(t){const e=S(()=>t.idPrefix??_t),r=S(()=>t.uiSchema??{}),a=S(()=>gr(l(r),t.uiSchema)??{}),n=S(()=>t[Hn]??{}),i=S(()=>(t.schema,{current:void 0})),s=S(()=>Sr(l(i),[])),o=S(()=>je(t.validator,{uiSchema:l(r),uiOptionsRegistry:l(n),schema:t.schema,merger:()=>l(m)})),m=S(()=>je(t.merger,{validator:l(o),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n)})),h=S(()=>t.value?pr(t.value):Yn(l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}))),D=S(()=>je(t.idBuilder,{idPrefix:l(e),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n),merger:l(m),validator:l(o),valueRef:l(h)})),p=S(()=>_r(l(o),l(m),t.schema,t.schema,l(h).current)),w=new WeakMap,O=S(()=>gt(w,v=>l(D).fromPath(v))),I=S(()=>{const v=new Or(l(i)),M=t.initialErrors;return M===void 0?v:Array.isArray(M)?v.updateErrors(M):v.assign(M)}),V=S(()=>t.disabled??!1),H=S(()=>t.fieldsValidationMode??0),C=S(()=>t.keyedArraysMap??new WeakMap),X=S(()=>jn(l(C))),Z=S(()=>t.schedulerYield??(typeof scheduler<"u"&&"yield"in scheduler)?scheduler.yield.bind(scheduler):({signal:v})=>new Promise((M,z)=>{setTimeout(()=>{v.aborted?z(v.reason):M()},0)})),c=S(()=>yr(l(Z))),d=S(()=>vr(t.translation)),u=new zt,_=S(()=>u.size>0),g=S(()=>br(u,l(s),tt));let E=!0,F=S(()=>{t.schema;const v=E;return E=!1,v});const b=S(()=>"validateFormValueAsync"in l(o)?(v,M,z)=>l(o).validateFormValueAsync(v,M,z):(v,M,z)=>Promise.resolve(l(o).validateFormValue(M,z))),P=et({async execute(v){return hr(k,l(s),tt),await l(b)(v,t.validateByRetrievedSchema?l(p):t.schema,vt(l(h).current))},onSuccess(v,M){if(mr(k,v.errors??[]),v.errors===void 0){t.onSubmit?.(v.value,M),u.clear();return}t.onSubmitError?.(v,M,k)},onFailure(v,M){Le(k,l(s),[l(d)("validation-process-error",{error:v})]),t.onSubmissionFailure?.(v,M)},get combinator(){return t.submissionCombinator},get delayedMs(){return t.submissionDelayedMs},get timeoutMs(){return t.submissionTimeoutMs}}),$=S(()=>$r(l(o))?(v,M,z)=>l(o).validateFieldValueAsync(v,M,z):Ar(l(o))?(v,M,z)=>Promise.resolve(l(o).validateFieldValue(M,z)):()=>Promise.resolve([])),A=et({execute(v,M,z){const te=t.fieldsValidationDebounceMs??300;if(te<0)return l($)(v,M,z);const ue=Promise.withResolvers(),Fe=setTimeout(()=>{ue.resolve(l($)(v,M,z))},te),fe=()=>{clearTimeout(Fe),ue.reject(new DOMException("field validation has been aborted","AbortError"))};return v.addEventListener("abort",fe),ue.promise.finally(()=>{v.removeEventListener("abort",fe)})},onSuccess(v,M){Le(k,M.path,v)},onFailure(v,M,z){v.reason!=="aborted"&&Le(k,M.path,[l(d)("validation-process-error",{error:v})]),t.onFieldsValidationFailure?.(v,M,z)},get combinator(){return t.fieldsValidationCombinator??fr},get delayedMs(){return t.fieldsValidationDelayedMs},get timeoutMs(){return t.fieldsValidationTimeoutMs}});function R(v){v.preventDefault(),P.run(v)}function j(v){v?.preventDefault(),u.clear(),l(I).clear(),l(h).current=l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}),t.onReset?.(v)}const k={submission:P,fieldsValidation:A,get isSubmitted(){return l(g)},get isChanged(){return l(_)},submit:R,reset:j,[dr]:u,get[ht](){return l(e)},get[ur](){return l(I)},get[cr](){return l(i)},get[lr](){return l(O)},get[Ie](){return l(s)},get[we](){return l(h).current},set[we](v){l(h).current=v},get[ir](){return l(H)},get[or](){return l(c)},get[sr](){return l(C)},get[Ye](){return t.schema},get[He](){return l(p)},get[ar](){return l(r)},get[De](){return l(a)},get[nr](){return t.extraUiOptions},get[rr](){return l(n)},get[tr](){return l(V)},get[er](){return l(o)},get[Qt](){return l(m)},get[Zt](){return l(Q)},get[Xt](){return t.theme},get[Wt](){return t.translation},get[qt](){return l(d)},get[Gt](){return t.icons},[Jt](){Y||(Y=!0,queueMicrotask(ee))}},Q=S(()=>t.resolver(k));let Y=!1;function ee(){Y=!1;const v=l(m).mergeFormDataAndSchemaDefaults({formData:l(h).current,schema:t.schema,initialDefaultsGenerated:l(F)});he(F,!0);const M=l(X)(l(h).current,v);M!==be&&(l(h).current=M)}return k}var Jn=U('<input type="hidden"/>');function Gn(t,e){L(e,!0);const r=T(e,"name",3,Rr);var a=Jn();Pr(a),Re(()=>{Er(a,"name",r()),Dr(a,e.form[ht])}),f(t,a),B()}var qn=U("<!> <!>",1);function Ft(t,e){L(e,!0);const r=Ve(),a=S(()=>({path:r[Ie],title:xr(r,r[De])??r[He].title??"",schema:r[He],uiSchema:r[De],required:!0})),n=S(()=>Mr(r,l(a)));var i=qn(),s=y(i);Gn(s,{get form(){return r}});var o=J(s,2);{let m=S(()=>Je(r,l(a)));x(o,()=>l(n),(h,D)=>{D(h,{type:"field",get config(){return l(a)},uiOption:p=>ze(r,l(a),p),get translate(){return l(m)},get value(){return r[we]},set value(p){r[we]=p}})})}f(t,i),B()}function Wn(t,e){L(e,!0);const r=Ve(),a=S(()=>({path:pt(r,r[Ie],"submit"),title:"",schema:r[Ye],uiSchema:r[De],required:!1})),n=S(()=>Pe(r,"submitButton",l(a)));var i=N(),s=y(i);x(s,()=>l(n),(o,m)=>{m(o,{get config(){return l(a)},children:(h,D)=>{{let p=S(()=>Je(r,l(a)));yt(h,{get config(){return l(a)},id:"submit",get translate(){return l(p)}})}},$$slots:{default:!0}})}),f(t,i),B()}function Rt(t,e){L(e,!0);let r=T(e,"ref",15);const a=Ve(),n=S(()=>({path:pt(a,a[Ie],"form"),title:"",schema:a[Ye],uiSchema:a[De],required:!1})),i=S(()=>Pe(a,"form",l(n)));var s=N(),o=y(s);x(o,()=>l(i),(m,h)=>{h(m,{get config(){return l(n)},get children(){return e.children},get attributes(){return e.attributes},get ref(){return r()},set ref(D){r(D)}})}),f(t,s),B()}var Xn=U("<!> <!>",1);function Pt(t,e){L(e,!0);let r=T(e,"ref",15),a=K(e,["$$slots","$$events","$$legacy","ref","form"]);St(e.form),Rt(t,{get attributes(){return a},get ref(){return r()},set ref(n){r(n)},children:(n,i)=>{var s=Xn(),o=y(s);Ft(o,{});var m=J(o,2);Wn(m,{}),f(n,s)},$$slots:{default:!0}}),B()}const Zn=Ge(Tr),Et=Cr(Zn,kr);function Qn(t,e){L(e,!0);let r=T(e,"open",15,!1),a=T(e,"onOpenChange",3,$e),n=T(e,"onOpenChangeComplete",3,$e);wr.create({variant:de(()=>"alert-dialog"),open:de(()=>r(),o=>{r(o),a()(o)}),onOpenChangeComplete:de(()=>n())});var i=N(),s=y(i);W(s,()=>e.children??re),f(t,i),B()}var ea=U("<button><!></button>");function ta(t,e){const r=qe();L(e,!0);let a=T(e,"id",19,()=>We(r)),n=T(e,"ref",15,null),i=K(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=Ir.create({id:de(()=>a()),ref:de(()=>n(),w=>n(w))}),o=S(()=>Ee(i,s.props));var m=N(),h=y(m);{var D=w=>{var O=N(),I=y(O);W(I,()=>e.child,()=>({props:l(o)})),f(w,O)},p=w=>{var O=ea();le(O,()=>({...l(o)}));var I=G(O);W(I,()=>e.children??re),q(O),f(w,O)};ye(h,w=>{e.child?w(D):w(p,!1)})}f(t,m),B()}var ra=U("<button><!></button>");function na(t,e){const r=qe();L(e,!0);let a=T(e,"id",19,()=>We(r)),n=T(e,"ref",15,null),i=T(e,"disabled",3,!1),s=K(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const o=Vr.create({id:de(()=>a()),ref:de(()=>n(),O=>n(O)),disabled:de(()=>!!i())}),m=S(()=>Ee(s,o.props));var h=N(),D=y(h);{var p=O=>{var I=N(),V=y(I);W(V,()=>e.child,()=>({props:l(m)})),f(O,I)},w=O=>{var I=ra();le(I,()=>({...l(m)}));var V=G(I);W(V,()=>e.children??re),q(I),f(O,I)};ye(D,O=>{e.child?O(p):O(w,!1)})}f(t,h),B()}var aa=U("<!> <!>",1),sa=U("<!> <div><!></div>",1);function oa(t,e){const r=qe();L(e,!0);let a=T(e,"id",19,()=>We(r)),n=T(e,"ref",15,null),i=T(e,"forceMount",3,!1),s=T(e,"interactOutsideBehavior",3,"ignore"),o=T(e,"onCloseAutoFocus",3,$e),m=T(e,"onEscapeKeydown",3,$e),h=T(e,"onOpenAutoFocus",3,$e),D=T(e,"onInteractOutside",3,$e),p=T(e,"preventScroll",3,!0),w=T(e,"trapFocus",3,!0),O=T(e,"restoreScrollDelay",3,null),I=K(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const V=Nr.create({id:de(()=>a()),ref:de(()=>n(),c=>n(c))}),H=S(()=>Ee(I,V.props));var C=N(),X=y(C);{var Z=c=>{Lr(c,{get ref(){return V.opts.ref},loop:!0,get trapFocus(){return w()},get enabled(){return V.root.opts.open.current},get onCloseAutoFocus(){return o()},onOpenAutoFocus:u=>{h()(u),!u.defaultPrevented&&(u.preventDefault(),Br(0,()=>V.opts.ref.current?.focus()))},focusScope:(u,_)=>{let g=()=>_?.().props;Ur(u,ne(()=>l(H),{get enabled(){return V.root.opts.open.current},get ref(){return V.opts.ref},onEscapeKeydown:E=>{m()(E),!E.defaultPrevented&&V.root.handleClose()},children:(E,F)=>{Kr(E,ne(()=>l(H),{get ref(){return V.opts.ref},get enabled(){return V.root.opts.open.current},get interactOutsideBehavior(){return s()},onInteractOutside:b=>{D()(b),!b.defaultPrevented&&V.root.handleClose()},children:(b,P)=>{jr(b,ne(()=>l(H),{get ref(){return V.opts.ref},get enabled(){return V.root.opts.open.current},children:($,A)=>{var R=N(),j=y(R);{var k=Y=>{var ee=aa(),v=y(ee);{var M=te=>{rt(te,{get preventScroll(){return p()},get restoreScrollDelay(){return O()}})};ye(v,te=>{V.root.opts.open.current&&te(M)})}var z=J(v,2);{let te=S(()=>({props:Ee(l(H),g()),...V.snippetProps}));W(z,()=>e.child,()=>l(te))}f(Y,ee)},Q=Y=>{var ee=sa(),v=y(ee);rt(v,{get preventScroll(){return p()}});var M=J(v,2);le(M,te=>({...te}),[()=>Ee(l(H),g())]);var z=G(M);W(z,()=>e.children??re),q(M),f(Y,ee)};ye(j,Y=>{e.child?Y(k):Y(Q,!1)})}f($,R)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};ye(X,c=>{(V.shouldRender||i())&&c(Z)})}f(t,C),B()}var ia=U("<div><!></div>");function la(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ia();le(n,s=>({"data-slot":"sheet-footer",class:s,...a}),[()=>oe("mt-auto flex flex-col gap-2 p-4",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}function ca(t,e){L(e,!0);let r=K(e,["$$slots","$$events","$$legacy"]);const a=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];xe(t,ne({name:"copy"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function ua(t,e){L(e,!0);let r=K(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];xe(t,ne({name:"pencil"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function da(t,e){L(e,!0);let r=K(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];xe(t,ne({name:"save"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function fa(t,e){L(e,!0);let r=K(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];xe(t,ne({name:"trash-2"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function Dt(t,e){L(e,!0);let r=K(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];xe(t,ne({name:"trash"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function ma(t,e){L(e,!0),Ns(e.crud.form);var r=N(),a=y(r);W(a,()=>e.children),f(t,r),B()}function ha(t,e){L(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);var n=N(),i=y(n);Hr(i,()=>r().form,s=>{ma(s,{get crud(){return r()},children:(o,m)=>{var h=N(),D=y(h);{var p=O=>{Pt(O,{get form(){return r().form},get ref(){return r().formElement},set ref(I){r().formElement=I}})},w=O=>{Rt(O,{get ref(){return r().formElement},set ref(I){r().formElement=I},children:(I,V)=>{Ft(I,{})},$$slots:{default:!0}})};ye(D,O=>{a()?O(w,!1):O(p)})}f(o,h)},$$slots:{default:!0}})}),f(t,n),B()}function xt(t,e){L(e,!0);let r=T(e,"open",15,!1),a=K(e,["$$slots","$$events","$$legacy","open"]);var n=N(),i=y(n);x(i,()=>Qn,(s,o)=>{o(s,ne(()=>a,{get open(){return r()},set open(m){r(m)}}))}),f(t,n),B()}function va(t,e){let r=K(e,["$$slots","$$events","$$legacy"]);var a=N(),n=y(a);x(n,()=>Yr,(i,s)=>{s(i,ne(()=>r))}),f(t,a)}function Mt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=S(()=>oe("text-lg font-semibold",e.class));x(i,()=>zr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-title",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}function Tt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=S(()=>oe(Ot(),e.class));x(i,()=>ta,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-action",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}function Ct(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=S(()=>oe(Ot({variant:"outline"}),e.class));x(i,()=>na,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-cancel",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var ga=U("<div><!></div>");function kt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ga();le(n,s=>({"data-slot":"alert-dialog-footer",class:s,...a}),[()=>oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var _a=U("<div><!></div>");function wt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=_a();le(n,s=>({"data-slot":"alert-dialog-header",class:s,...a}),[()=>oe("flex flex-col gap-2 text-center sm:text-start",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}function ya(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=S(()=>oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));x(i,()=>Jr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-overlay",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var pa=U("<!> <!>",1);function It(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);va(t,ne(()=>e.portalProps,{children:(n,i)=>{var s=pa(),o=y(s);ya(o,{});var m=J(o,2);{let h=S(()=>oe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));x(m,()=>oa,(D,p)=>{p(D,ne({"data-slot":"alert-dialog-content",get class(){return l(h)}},()=>a,{get ref(){return r()},set ref(w){r(w)}}))})}f(n,s)},$$slots:{default:!0}})),B()}function Vt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=S(()=>oe("text-muted-foreground text-sm",e.class));x(i,()=>Gr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-description",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var Sa=U("<!> Cancel",1),Oa=U("<!> Save",1),ba=U('<div class="flex flex-col gap-4"><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><h2 class="text-lg font-semibold"> </h2> <!></div> <div><!> <!></div></div> <div><!></div></div>'),$a=U("<!> <!>",1),Aa=U("<!> <!>",1),Fa=U("<!> <!>",1),Ra=U("<!> <!>",1);function Pa(t,e){L(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);const n=S(()=>e.formTitle?r().editingRecord!=null?`Edit ${e.formTitle}`:`Create ${e.formTitle}`:r().editingRecord!=null?"Edit":"Create");var i=Ra(),s=y(i);{var o=h=>{var D=ba(),p=G(D),w=G(p),O=G(w),I=G(O,!0);q(O);var V=J(O,2);{var H=u=>{Ae(u,{variant:"ghost",size:"icon-sm",class:"text-muted-foreground",onclick:()=>r().openDelete(r().editingRecord),children:(_,g)=>{fa(_,{})},$$slots:{default:!0}})};ye(V,u=>{r().editingRecord&&u(H)})}q(w);var C=J(w,2),X=G(C);Ae(X,{variant:"outline",onclick:()=>r().isFormOpen=!1,children:(u,_)=>{var g=Sa(),E=y(g);qr(E,{}),se(),f(u,g)},$$slots:{default:!0}});var Z=J(X,2);Ae(Z,{onclick:()=>r().submitForm(),children:(u,_)=>{var g=Oa(),E=y(g);da(E,{}),se(),f(u,g)},$$slots:{default:!0}}),q(C),q(p);var c=J(p,2),d=G(c);x(d,()=>r().Form,(u,_)=>{_(u,{get self(){return r()},get hideSubmitButton(){return a()}})}),q(c),q(D),Re(()=>Te(I,l(n))),f(h,D)};ye(s,h=>{r().isFormOpen&&h(o)})}var m=J(s,2);x(m,()=>xt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,w)=>{var O=N(),I=y(O);x(I,()=>It,(V,H)=>{H(V,{children:(C,X)=>{var Z=Fa(),c=y(Z);x(c,()=>wt,(u,_)=>{_(u,{children:(g,E)=>{var F=$a(),b=y(F);x(b,()=>Mt,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("Delete record");f(R,k)},$$slots:{default:!0}})});var P=J(b,2);x(P,()=>Vt,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("This action cannot be undone.");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=J(c,2);x(d,()=>kt,(u,_)=>{_(u,{children:(g,E)=>{var F=Aa(),b=y(F);x(b,()=>Ct,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("Cancel");f(R,k)},$$slots:{default:!0}})});var P=J(b,2);x(P,()=>Tt,($,A)=>{A($,{onclick:()=>{r().confirmDelete(),e.onConfirmDelete?.()},children:(R,j)=>{se();var k=ie("Delete");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Z)},$$slots:{default:!0}})}),f(p,O)},$$slots:{default:!0}})}),f(t,i),B()}var Ea=U('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function Da(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ea(),i=G(n);le(i,o=>({"data-slot":"table",class:o,...a}),[()=>oe("w-full caption-bottom text-sm",e.class)]);var s=G(i);W(s,()=>e.children??re),q(i),ve(i,o=>r(o),()=>r()),q(n),f(t,n),B()}var xa=U("<tbody><!></tbody>");function Ma(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=xa();le(n,s=>({"data-slot":"table-body",class:s,...a}),[()=>oe("[&_tr:last-child]:border-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Ta=U("<td><!></td>");function ct(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ta();le(n,s=>({"data-slot":"table-cell",class:s,...a}),[()=>oe("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Ca=U("<th><!></th>");function ut(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ca();le(n,s=>({"data-slot":"table-head",class:s,...a}),[()=>oe("text-foreground h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var ka=U("<thead><!></thead>");function wa(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ka();le(n,s=>({"data-slot":"table-header",class:s,...a}),[()=>oe("[&_tr]:border-b",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Ia=U("<tr><!></tr>");function dt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=K(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ia();le(n,s=>({"data-slot":"table-row",class:s,...a}),[()=>oe("hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Va=U("<!> <!>",1),Na=U('<div class="flex gap-2"><!> <!></div>'),La=U("<!> <!>",1),Ba=U("<!> <!>",1),Ua=U('<!> <div class="p-4"><!></div> <!>',1),Ka=U("<!> <!>",1),ja=U("<!> <!>",1),Ha=U("<!> <!>",1),Ya=U('<div class="flex flex-col gap-4"><div class="rounded-md border"><!></div></div> <!> <!>',1);function za(t,e){L(e,!0);let r=T(e,"self",7);var a=Ya(),n=y(a),i=G(n),s=G(i);x(s,()=>Da,(h,D)=>{D(h,{children:(p,w)=>{var O=Ba(),I=y(O);x(I,()=>wa,(H,C)=>{C(H,{children:(X,Z)=>{var c=N(),d=y(c);x(d,()=>dt,(u,_)=>{_(u,{children:(g,E)=>{var F=Va(),b=y(F);Ce(b,16,()=>r().columns,$=>$,($,A)=>{var R=N(),j=y(R);x(j,()=>ut,(k,Q)=>{Q(k,{children:(Y,ee)=>{se();var v=ie();Re(()=>Te(v,A)),f(Y,v)},$$slots:{default:!0}})}),f($,R)});var P=J(b,2);x(P,()=>ut,($,A)=>{A($,{class:"w-[120px]",children:(R,j)=>{se();var k=ie("Actions");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(X,c)},$$slots:{default:!0}})});var V=J(I,2);x(V,()=>Ma,(H,C)=>{C(H,{children:(X,Z)=>{var c=N(),d=y(c);Ce(d,17,()=>r().records,u=>r().getKey(u),(u,_)=>{var g=N(),E=y(g);x(E,()=>dt,(F,b)=>{b(F,{children:(P,$)=>{var A=La(),R=y(A);Ce(R,16,()=>r().columns,k=>k,(k,Q)=>{var Y=N(),ee=y(Y);x(ee,()=>ct,(v,M)=>{M(v,{children:(z,te)=>{se();var ue=ie();Re(Fe=>Te(ue,Fe),[()=>r().displayValue(l(_)[Q])]),f(z,ue)},$$slots:{default:!0}})}),f(k,Y)});var j=J(R,2);x(j,()=>ct,(k,Q)=>{Q(k,{children:(Y,ee)=>{var v=Na(),M=G(v);Ae(M,{variant:"ghost",size:"icon-sm",onclick:()=>r().openEdit(l(_)),children:(te,ue)=>{ua(te,{})},$$slots:{default:!0}});var z=J(M,2);Ae(z,{variant:"ghost",size:"icon-sm",onclick:()=>r().openDelete(l(_)),children:(te,ue)=>{Dt(te,{})},$$slots:{default:!0}}),q(v),f(Y,v)},$$slots:{default:!0}})}),f(P,A)},$$slots:{default:!0}})}),f(u,g)}),f(X,c)},$$slots:{default:!0}})}),f(p,O)},$$slots:{default:!0}})}),q(i),q(n);var o=J(n,2);x(o,()=>Qr,(h,D)=>{D(h,{get open(){return r().isFormOpen},set open(p){r().isFormOpen=p},children:(p,w)=>{var O=N(),I=y(O);x(I,()=>Wr,(V,H)=>{H(V,{class:"overflow-y-auto",children:(C,X)=>{var Z=Ua(),c=y(Z);x(c,()=>Xr,(g,E)=>{E(g,{children:(F,b)=>{var P=N(),$=y(P);x($,()=>Zr,(A,R)=>{R(A,{children:(j,k)=>{se();var Q=ie();Re(()=>Te(Q,r().editingRecord!=null?"Edit":"Create")),f(j,Q)},$$slots:{default:!0}})}),f(F,P)},$$slots:{default:!0}})});var d=J(c,2),u=G(d);Pt(u,{get form(){return r().form}}),q(d);var _=J(d,2);x(_,()=>la,(g,E)=>{E(g,{children:(F,b)=>{Ae(F,{variant:"outline",onclick:()=>r().isFormOpen=!1,children:(P,$)=>{se();var A=ie("Cancel");f(P,A)},$$slots:{default:!0}})},$$slots:{default:!0}})}),f(C,Z)},$$slots:{default:!0}})}),f(p,O)},$$slots:{default:!0}})});var m=J(o,2);x(m,()=>xt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,w)=>{var O=N(),I=y(O);x(I,()=>It,(V,H)=>{H(V,{children:(C,X)=>{var Z=Ha(),c=y(Z);x(c,()=>wt,(u,_)=>{_(u,{children:(g,E)=>{var F=Ka(),b=y(F);x(b,()=>Mt,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("Delete record");f(R,k)},$$slots:{default:!0}})});var P=J(b,2);x(P,()=>Vt,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("This action cannot be undone.");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=J(c,2);x(d,()=>kt,(u,_)=>{_(u,{children:(g,E)=>{var F=ja(),b=y(F);x(b,()=>Ct,($,A)=>{A($,{children:(R,j)=>{se();var k=ie("Cancel");f(R,k)},$$slots:{default:!0}})});var P=J(b,2);x(P,()=>Tt,($,A)=>{A($,{onclick:()=>r().confirmDelete(),children:(R,j)=>{se();var k=ie("Delete");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Z)},$$slots:{default:!0}})}),f(p,O)},$$slots:{default:!0}})}),f(t,a),B()}class Us{constructor(e){this.repository=e}get Table(){return za}get Form(){return ha}get Forms(){return Pa}get schema(){return this.repository.getSchema()}get uiSchema(){return this.repository.getUiSchema?.()}get records(){return this.repository.list()}get entityName(){return this.repository.getEntityName()}get def(){return this.schema.$defs?.[this.entityName]}get columns(){return this.def&&typeof this.def=="object"&&"properties"in this.def&&this.def.properties?Object.keys(this.def.properties).filter(e=>e!=="__stepId"):[]}#i=S(()=>Vs({schema:this.schema,uiSchema:this.uiSchema,initialValue:this.editingRecord??this.createInitialValue??void 0,onSubmit:e=>this.handleSubmit(e)}));get form(){return l(this.#i)}#e=_e();get formElement(){return l(this.#e)}set formElement(e){he(this.#e,e,!0)}submitForm(){this.formElement?.requestSubmit()}#t=_e(!1);get isFormOpen(){return l(this.#t)}set isFormOpen(e){he(this.#t,e,!0)}#r=_e(null);get editingRecord(){return l(this.#r)}set editingRecord(e){he(this.#r,e,!0)}#n=_e(null);get createInitialValue(){return l(this.#n)}set createInitialValue(e){he(this.#n,e,!0)}#a=_e(null);get createCallback(){return l(this.#a)}set createCallback(e){he(this.#a,e,!0)}#s=_e(!1);get isDeleteDialogOpen(){return l(this.#s)}set isDeleteDialogOpen(e){he(this.#s,e,!0)}#o=_e(null);get recordToDelete(){return l(this.#o)}set recordToDelete(e){he(this.#o,e,!0)}openCreate(e){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=null,this.isFormOpen=!0}openCreateWithCallback(e,r){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=r,this.isFormOpen=!0}openEdit(e){this.editingRecord=e,this.createInitialValue=null,this.createCallback=null,this.isFormOpen=!0}openDelete(e){this.recordToDelete=e,this.isDeleteDialogOpen=!0}handleSubmit(e){if(this.editingRecord!=null){const r=this.repository.getKey(this.editingRecord),a=this.repository.update(r,e);a.isOk?(pe.success("Record updated"),this.isFormOpen=!1):pe.error(a.error.message)}else{const r=this.createCallback;if(r)r(e),this.createCallback=null,this.createInitialValue=null,this.isFormOpen=!1,pe.success("Record created");else{const a=this.repository.create(e);a.isOk?(pe.success("Record created"),this.isFormOpen=!1,this.createInitialValue=null):pe.error(a.error.message)}}}confirmDelete(){if(this.recordToDelete==null)return;const e=this.repository.getKey(this.recordToDelete),r=this.repository.delete(e);r.isOk?(pe.success("Record deleted"),this.isDeleteDialogOpen=!1,this.recordToDelete=null):pe.error(r.error.message)}displayValue(e){return e==null?"":typeof e=="object"?JSON.stringify(e):String(e)}getKey(e){return this.repository.getKey(e)}}function Ja(t){return({schema:e})=>{if(e.oneOf!==void 0)return"oneOfField";if(e.anyOf!==void 0)return"anyOfField";const r=bt(e);return r==="array"?$t(e)?"tupleField":"arrayField":`${r}Field`}}const Ga={submit:"Submit","array-schema-missing-items":"Missing items definition",yes:"Yes",no:"No","multi-schema-option-label-with-title":({title:t,index:e})=>`${t} option ${e+1}`,"multi-schema-option-label":({index:t})=>`Option ${t+1}`,"add-array-item":"Add item","copy-array-item":"Copy","add-object-property":"Add property","move-array-item-down":"Down","move-array-item-up":"Up","remove-array-item":"Del","remove-object-property":"Del",edit:"Edit",clear:"Clear","validation-process-error":({error:t})=>qa[t.reason],"component-not-found":({type:t})=>`"${t}" component not found`,"key-input-title":({name:t})=>`${t} Key`,"additional-property":"Additional property","unknown-field-error":({schema:t})=>`You're seeing this error because your JSON Schema doesnâ€™t contain enough information
to determine its type. You can:
- specify the schema type (for example, using the 'type' keyword)
- specify which component to use via UiSchema
  ('{ "ui:components": { "unknownField": "myField" } }')
- specify which component to use by providing a custom 'resolver'
  (https://x0k.dev/svelte-jsonschema-form/guides/fields-resolution/)

JSON Schema:
${JSON.stringify(t,null,2)}`},qa={aborted:"Validation aborted",timeout:"Validation terminated by timeout",error:"Something went wrong during validation"},Wa=Ge(Ga),Xa=t=>{tn(t,{size:20})},Za=t=>{en(t,{size:20})},ft=t=>{Dt(t,{size:20})},Qa=t=>{ca(t,{size:20})},es={"move-array-item-up":Xa,"move-array-item-down":Za,"remove-array-item":ft,"copy-array-item":Qa,"remove-object-property":ft},ts=es,rs=Ge(ts),ns=".",as="::";function ss({idPrefix:t=_t,idSeparator:e=ns,idPseudoSeparator:r=as}){return{fromPath:a=>{let n="";for(let i=0;i<a.length;i++){const s=a[i],o=rn(s);n+=o!==void 0?`${r}${o}`:`${e}${s}`}return`${t}${n}`}}}function os({jsonSchemaMerger:{mergeSchemaDefinitions:t,mergeArrayOfSchemaDefinitions:e}=Vn(),jsonSchemaAllOfMerge:r=Ln(e)}={}){return{mergeSchemas(a,n){return t(a,n)},mergeAllOf(a){return r(a)}}}function is(t){const e=os(t);return{...e,mergeFormDataAndSchemaDefaults({formData:r,schema:a,initialDefaultsGenerated:n=!1,includeUndefinedValues:i=!1}){return nn(t.validator,e,a,r,t.schema,i,t,n)}}}const ls={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!0},cs=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,us=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function ds(t){return t.addFormat("color",cs),t.addFormat(sn,us),t}function fs(t){return t.addKeyword(an),t}function Nt(t){return fs(ds(t))}function ms(t,e,r=new WeakMap){let a="",n=!1;const i=ln(r,s=>{let o=s;return n&&(o=Bn(s,a),delete o[nt]),t.compile(o)});return(s,o)=>{a=o[nt]??on;let m=t.getSchema(a)?.schema;return m!==void 0&&m!==o&&(t.removeSchema(a),r.delete(s),m=void 0),m===void 0&&t.addSchema(o,a),n=s!==o,i(s)}}function hs(t,e){const a=gt(new WeakMap,n=>t.compile({...n,$async:e}));return n=>a(n.schema)}function vs({params:{missingProperty:t,propertyName:e},propertyName:r=e},a){let n=a;return n=t!==void 0?a.concat(t):n,n=r!==void 0?a.concat(r,cn("key-input")):n,n}function Lt({params:{missingProperty:t},parentSchema:e,message:r},a){if(!r)return"";if(t===void 0)return r;const n=a(t,e);return n===void 0?r:r.replace(t,n)}function gs({uiSchema:t={}}){return(e,r)=>({value:r,errors:e.map(a=>{const n=Kn(a.instancePath,r);return{path:vs(a,n),message:Lt(a,(i,s)=>{const o=un(t,n.concat(i));if(o!==void 0)return o;const m=s?.properties?.[i];if(typeof m=="object")return m.title})}})})}function Bt(t){return t.instancePath===""}function _s(t){return Bt(t)&&t.keyword!=="type"}function ys(t){return e=>e.filter(t.required?Bt:_s).map(r=>Lt(r,()=>t.title))}function Ut(t,e,r,a){t(e);const n=t.errors;return t.errors=null,n?a(n,e):r(e)}const ps=t=>({value:t}),Ss=()=>[];function Os({compileSchema:t}){return{isValid(e,r,a){if(typeof e=="boolean")return e;const n=t(e,r);try{return n(a)}catch(i){return console.warn("Failed to validate",i),!1}}}}function bs(t){const e=gs(t);return{validateFormValue(r,a){return Ut(t.compileSchema(r,r),a,ps,e)}}}function $s({compileFieldSchema:t}){return{validateFieldValue(e,r){return Ut(t(e),r,Ss,ys(e))}}}function As({ajvOptions:t=ls,ajvPlugins:e=Nt,ajv:r=e(new dn.Ajv(t)),validatorsCache:a,compileSchema:n=ms(r,!1,a),compileFieldSchema:i=hs(r,!1),...s}={}){const o={...s,compileSchema:n,compileFieldSchema:i};return Object.assign(Os(o),bs(o),$s(o))}function Fs(t){try{return{ok:!0,value:JSON.parse(t)}}catch(e){return{ok:!1,error:e}}}function Rs(t){return Fs(t).ok}function Ks(t){return t.startsWith("{")}function js(t){return t.startsWith("[")}function Hs(t){return t.startsWith('"')}function Ys(t){return t[0]>="0"&&t[0]<="9"||t[0]==="-"}function zs(t){return t==="true"||t==="false"}function Ps(t){try{return new RegExp(t),!0}catch{return!1}}function Es(t){return t.addFormat("json",Rs),t.addFormat("regexp",Ps),t}const Ds=t=>As({...t,ajvPlugins:e=>Nt(Es(e))}),xs=Object.freeze(Object.defineProperty({__proto__:null,icons:rs,idBuilder:ss,merger:is,resolver:Ja,theme:Et,translation:Wa,validator:Ds},Symbol.toStringTag,{value:"Module"})),Ms=t=>t;function Ts(t,{delay:e=0,duration:r=400,easing:a=Ms}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:i=>`opacity: ${i*n}`}}var Cs=U("<div><!></div>");function ks(t,e){L(e,!0);const r=p=>{var w=N(),O=y(w);{let I=S(()=>i.errors());x(O,()=>l(m),(V,H)=>{H(V,{get errors(){return l(I)},get config(){return e.config},disabled:!1,type:"array-item-add",get onclick(){return i.pushItem},children:(C,X)=>{yt(C,{get config(){return e.config},id:"add-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})})}f(p,w)};let a=T(e,"value",15);const n=Ve(),i=gn({ctx:n,config:()=>e.config,value:()=>a(),keyedArray:_n(n,()=>a(),()=>new pn(p=>a(p)),(p,w)=>new yn(p,w))});fn(i);const s=S(()=>Pe(n,"arrayItemField",e.config)),o=S(()=>Pe(n,"arrayTemplate",e.config)),m=S(()=>Pe(n,"button",e.config));var h=N(),D=y(h);{let p=S(()=>i.errors()),w=S(()=>i.canAdd()?r:void 0);x(D,()=>l(o),(O,I)=>{I(O,{type:"template",get errors(){return l(p)},get config(){return e.config},get value(){return a()},get uiOption(){return e.uiOption},get addButton(){return l(w)},children:(V,H)=>{var C=N(),X=y(C);Ce(X,27,()=>({length:i.length()}),(Z,c)=>i.key(c),(Z,c,d)=>{const u=S(()=>i.itemConfig(e.config,a()?.[l(d)],l(d)));var _=Cs(),g=G(_),E=()=>a()?.[l(d)],F=b=>i.set(l(d),b);{let b=S(()=>Je(n,l(u)));x(g,()=>l(s),(P,$)=>{$(P,{type:"field",get index(){return l(d)},get config(){return l(u)},get value(){return E()},set value(A){F(A)},uiOption:A=>ze(n,l(u),A),get translate(){return l(b)}})})}q(_),mn(_,()=>hn,()=>({duration:500})),vn(3,_,()=>Ts),f(Z,_)}),f(V,C)},$$slots:{default:!0}})})}f(t,h),B()}function ws(t){return e=>{const{schema:r}=e;if(Sn(t,r))return"enumField";if(r.oneOf!==void 0)return"oneOfField";if(r.anyOf!==void 0)return"anyOfField";const a=bt(r);return a==="array"?On(t,r)?"multiEnumField":$t(r)?"tupleField":bn(t,r)&&ze(t,e,"orderable")!==!0?"filesField":"arrayField":$n(r)?"fileField":`${a}Field`}}const Is=En(Et,{arrayField:ks});function Vs(t){const{schema:e,uiSchema:r,initialValue:a,onSubmit:n}=t;return zn({...xs,resolver:ws,theme:Is,get initialValue(){return Pn(()=>vt(a))},get schema(){return e},get uiSchema(){return r},fieldsValidationMode:Fn|Rn,fieldsValidationDebounceMs:200,onSubmit(s,o){o.preventDefault(),n?.(s)}})}function Ns(t){St(t),An(()=>{t.fieldsValidation.abort()})}export{Us as C,Bs as D,da as S,fa as T,Ft as a,Vn as b,zn as c,xs as d,Rs as e,Ts as f,Ks as g,js as h,Ps as i,Hs as j,Ys as k,zs as l,As as m,Nt as n,Es as o,Ds as v};
