import{g as f,R as i,p as a,s as g,c as p,a as m,r as h,b as l,d as U,f as x,e as v}from"./index-DEFLB83p.js";import{C as w}from"./form.svelte-HxLOTQol.js";import"./shiki-CzYoHZ73.js";import"./single-dropzone-BiNdPs76.js";import{S as E}from"./select-department-HQLPbjfK.js";import{N as b}from"./new-button-CAw445BB.js";class C{constructor(r){this.config=r}getEntityName(){return"User"}getKey(r){return r.id}getSchema(){return f("User")}getUiSchema(){return{departmentId:{"ui:components":{textWidget:E},"ui:options":{attestaConfig:this.config}}}}list(){return this.config.users}getOne(r){const e=this.config.users.find(t=>t.id===r);return e!==void 0?i.ok(e):i.err(new Error(`User not found: ${r}`))}create(r){return this.config.users.some(e=>e.id===r.id)?i.err(new Error(`User already exists: ${r.id}`)):(this.config.users=[...this.config.users,r],i.ok(r))}update(r,e){return this.config.users.findIndex(s=>s.id===r)===-1?i.err(new Error(`User not found: ${r}`)):(this.config.users=this.config.users.map(s=>s.id===r?e:s),i.ok(e))}delete(r){return this.config.users.findIndex(t=>t.id===r)===-1?i.err(new Error(`User not found: ${r}`)):(this.config.users=this.config.users.filter(t=>t.id!==r),i.ok(void 0))}}var S=x('<div class="p-4"><!></div>');function y(u,r){a(r,!0);const e=o=>{b(o,{onClick:()=>s.openCreate()})},t=new C(v),s=new w(t);g({title:"Users",right:e});var n=S(),c=p(n);m(c,()=>s.Table,(o,d)=>{d(o,{get self(){return s}})}),h(n),l(u,n),U()}export{y as default};
