import{_ as B,dq as E,dr as R,ds as N,dt as j,du as k,dv as A,dw as M,dx as P,dy as q,dz as x,dA as F,dB as H,dC as h,p as I,ac as S,k as d,s as O,c as g,z as Y,r as w,b as f,d as G,F as b,dD as C,a1 as J,y as K,h as D,f as _,e as L,B as Q,dE as V,n as W,av as z}from"./index-DEFLB83p.js";import{a as X}from"./await-CGLH2z7D.js";import{h as Z,a as aa}from"./shiki-CzYoHZ73.js";function ea(m,u,c=!1,o=!1,y=!1){var i=m,l="";B(()=>{var n=N;if(l===(l=u()??"")){E&&R();return}if(n.nodes!==null&&(j(n.nodes.start,n.nodes.end),n.nodes=null),l!==""){if(E){k.data;for(var t=R(),e=t;t!==null&&(t.nodeType!==A||t.data!=="");)e=t,t=M(t);if(t===null)throw P(),q;x(k,e),i=F(t);return}var a=l+"";c?a=`<svg>${a}</svg>`:o&&(a=`<math>${a}</math>`);var r=H(a);if((c||o)&&(r=h(r)),x(h(r),r.lastChild),c||o)for(;h(r);)i.before(h(r));else i.before(r)}})}var ra=_("<!> Download",1),ta=_('<p class="text-destructive"> </p>'),sa=_('<div class="dark min-h-0 flex-1 overflow-auto rounded-lg bg-slate-900" data-code-overflow=""><!></div>'),oa=_('<p class="text-muted-foreground">Loading previewâ€¦</p>'),ia=_('<div class="flex min-h-0 grow flex-col gap-4 p-4"><!></div>');function fa(m,u){I(u,!0);const c=e=>{Q(e,{onclick:y,children:(a,r)=>{var s=ra(),v=D(s);V(v,{}),W(),f(a,s)},$$slots:{default:!0}})},o=b(()=>C(L));S(()=>{d(o).isErr?O({title:"Export"}):O({title:"Export",right:c})});function y(){const e=C(L);if(e.isErr){z.error(e.error.message);return}const a=new Blob([e.value],{type:"application/yaml"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download="formata-config.yaml",s.click(),URL.revokeObjectURL(r),z.success("Config exported")}var i=ia(),l=g(i);{var n=e=>{var a=ta(),r=g(a,!0);w(a),B(()=>J(r,d(o).error.message)),f(e,a)},t=e=>{var a=K(),r=D(a);X(r,()=>Z,s=>{var v=oa();f(s,v)},(s,v)=>{const T=b(()=>d(o).value),U=b(()=>aa(d(v),"yaml",d(T)));var p=sa(),$=g(p);ea($,()=>d(U)),w(p),f(s,p)}),f(e,a)};Y(l,e=>{d(o).isErr?e(n):e(t,!1)})}w(i),f(m,i),G()}export{fa as default};
