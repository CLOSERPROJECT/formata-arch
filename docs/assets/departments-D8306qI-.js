import{g as m,R as i,p as c,s as f,c as u,f as g,a as h,b as l,d as D,e as x}from"./index-DJjTieaz.js";import{C as w}from"./form.svelte-CEB_f0Ju.js";import{N as E}from"./new-button-BzVHfW8f.js";class b{constructor(t){this.config=t}getEntityName(){return"Department"}getKey(t){return t.id}getSchema(){return m("Department")}list(){return this.config.departments}getOne(t){const e=this.config.departments.find(r=>r.id===t);return e!==void 0?i.ok(e):i.err(new Error(`Department not found: ${t}`))}create(t){return this.config.departments.some(e=>e.id===t.id)?i.err(new Error(`Department already exists: ${t.id}`)):(this.config.departments=[...this.config.departments,t],i.ok(t))}update(t,e){return this.config.departments.findIndex(n=>n.id===t)===-1?i.err(new Error(`Department not found: ${t}`)):(this.config.departments=this.config.departments.map(n=>n.id===t?e:n),i.ok(e))}delete(t){return this.config.departments.findIndex(r=>r.id===t)===-1?i.err(new Error(`Department not found: ${t}`)):(this.config.departments=this.config.departments.filter(r=>r.id!==t),i.ok(void 0))}}function $(s,t){c(t,!0);const e=o=>{E(o,{onClick:()=>n.openCreate()})},r=new b(x),n=new w(r);f({title:"Departments",right:e});var a=u(),d=g(a);h(d,()=>n.Table,(o,p)=>{p(o,{get self(){return n}})}),l(s,a),D()}export{$ as default};
