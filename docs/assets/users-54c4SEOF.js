import{g as d,R as n,p as a,s as g,c as p,f as m,a as h,b as l,d as U,e as x}from"./index-DJjTieaz.js";import{C as w}from"./form.svelte-CEB_f0Ju.js";import"./single-dropzone-DQKvsb-y.js";import{S as E}from"./select-department-CqE_-FQ0.js";import{N as b}from"./new-button-BzVHfW8f.js";class C{constructor(e){this.config=e}getEntityName(){return"User"}getKey(e){return e.id}getSchema(){return d("User")}getUiSchema(){return{departmentId:{"ui:components":{textWidget:E},"ui:options":{attestaConfig:this.config}}}}list(){return this.config.users}getOne(e){const r=this.config.users.find(t=>t.id===e);return r!==void 0?n.ok(r):n.err(new Error(`User not found: ${e}`))}create(e){return this.config.users.some(r=>r.id===e.id)?n.err(new Error(`User already exists: ${e.id}`)):(this.config.users=[...this.config.users,e],n.ok(e))}update(e,r){return this.config.users.findIndex(s=>s.id===e)===-1?n.err(new Error(`User not found: ${e}`)):(this.config.users=this.config.users.map(s=>s.id===e?r:s),n.ok(r))}delete(e){return this.config.users.findIndex(t=>t.id===e)===-1?n.err(new Error(`User not found: ${e}`)):(this.config.users=this.config.users.filter(t=>t.id!==e),n.ok(void 0))}}function I(o,e){a(e,!0);const r=i=>{b(i,{onClick:()=>s.openCreate()})},t=new C(x),s=new w(t);g({title:"Users",right:r});var u=p(),c=m(u);h(c,()=>s.Table,(i,f)=>{f(i,{get self(){return s}})}),l(o,u),U()}export{I as default};
