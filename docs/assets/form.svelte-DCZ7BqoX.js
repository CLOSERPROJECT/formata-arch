import{q as ht,bK as Kt,bL as Ht,bM as zt,bN as Yt,be as Qe,bO as ge,bP as Le,bQ as Ze,bR as et,bS as Jt,bT as Gt,bU as qt,bV as Wt,k as l,bW as Xt,bX as Qt,bY as Zt,bZ as er,b_ as tr,b$ as rr,c0 as nr,c1 as ar,c2 as xe,c3 as sr,c4 as ze,c5 as Ye,c6 as or,c7 as ir,c8 as lr,c9 as Ve,ca as Ie,cb as cr,cc as ur,cd as dr,ce as vt,cf as fr,cg as tt,ch as mr,ci as Be,cj as hr,ck as vr,cl as rt,ah as gt,l as he,F as b,cm as gr,cn as _r,co as yr,cp as pr,cq as br,cr as Sr,cs as _t,ct as Or,cu as yt,cv as $r,cw as Ar,cx as Fr,i as _e,V as Rr,p as L,v as T,cy as Pr,cz as Er,_ as Pe,cA as Dr,cB as xr,b as f,d as B,f as U,an as Ne,h as y,N as J,a as x,cC as Je,cD as Mr,cE as Tr,cF as Ge,y as N,cG as pt,cH as bt,aR as Ee,aa as St,H as j,cI as qe,aV as Cr,cJ as kr,cK as wr,cL as Ae,cM as Vr,x as de,A as W,E as re,t as We,w as Xe,cN as Ir,z as ye,C as le,c as G,r as q,G as De,cO as Nr,cP as Lr,cQ as Br,cR as Ur,cS as jr,J as ne,cT as Kr,cU as Hr,cV as nt,K as oe,L as ve,aO as Me,aj as zr,S as Yr,I as Jr,cW as Ot,M as Gr,cX as qr,n as se,aq as ie,B as Fe,X as Wr,a1 as Ce,a2 as ke,cY as Xr,cZ as Qr,c_ as Zr,c$ as en,as as tn,av as pe,a3 as $t,d0 as At,d1 as rn,d2 as nn,d3 as an,d4 as sn,d5 as on,d6 as ln,d7 as cn,d8 as at,d9 as un,da as dn,db as fn,dc as mn,dd as hn,de as vn,df as gn,aw as _n,dg as yn,dh as pn,di as bn,dj as Sn,dk as On,dl as $n,dm as An,dn as Fn,ab as Rn,ae as Pn,af as En,ag as Dn,dp as xn}from"./index-C1tYyTHg.js";function we(t,e,r={type:"root",path:[]}){if(!ht(t))return e(t,r);const a={...t};for(const s of Kt){const o=t[s];if(o===void 0||!Array.isArray(o))continue;const m={type:"array",parent:t,key:s,index:0,path:r.path.concat(s,0)};a[s]=o.map((h,D)=>(m.index=D,m.path[m.path.length-1]=D,we(h,e,m)))}const n=new Map;for(const s of Ht){const o=t[s];if(o===void 0)continue;const m={type:"record",parent:t,key:s,property:"",path:r.path.concat(s,"")},h=Object.keys(o),D=h.length;for(let p=0;p<D;p++){const w=h[p],S=o[w];if(Array.isArray(S)){n.set(w,S);continue}m.property=w,m.path[m.path.length-1]=w,n.set(w,we(S,e,m))}a[s]=Object.fromEntries(n),n.clear()}const i={type:"sub",parent:t,key:"items",path:r.path.concat("")};for(const s of zt){const o=t[s];o===void 0||Array.isArray(o)||(i.key=s,i.path[i.path.length-1]=s,a[s]=we(o,e,i))}return e(a,r)}const Ft=(t,e)=>t?Ft(e%t,t):e,Mn=(t,e)=>Math.abs(t*e)/Ft(t,e);function Tn(t,e){return t===e?t:`^(?=.*(?:${t}))(?=.*(?:${e})).*$`}function*Ue(t,e,r){const a=t.length,n=e.length;if(a>0&&n>0)for(let i=0;i<a;i++){const s=t[i];for(let o=0;o<n;o++)yield r(s,e[o])}}function je(t,e){return t||e}function st(t){return(e,r)=>{const a={...e},n=Object.keys(r),i=n.length;for(let s=0;s<i;s++){const o=n[s];a[o]=e[o]===void 0?r[o]:t(e[o],r[o])}return a}}function Cn(t){const e=new Map;for(const r of t)for(const a of r[0])e.set(a,r[1]);return e}function be(t,e,r){r===void 0||ge(r)?delete t[e]:t[e]=r}const kn=["properties","patternProperties","additionalProperties"];function ot(t){const e=Object.keys(t),r=e.length,a=[];for(let n=0;n<r;n++){const i=e[n];a.push({regExp:new RegExp(i),schema:t[i]})}return[a,e]}const it=[[],[]];function lt(t,e,r){const a=r.length;for(let n=0;n<a;n++){const i=r[n];if(!i.regExp.test(e))continue;const s=i.schema;if(s===!1)return!0;t.push(s)}return!1}const wn=["items","additionalItems"],Vn=["if","then","else"];function ct(t,e){return e.if!==void 0&&(t.if=e.if),e.then!==void 0&&(t.then=e.then),e.else!==void 0&&(t.else=e.else),t}function Ke(t,e){if(t===e)return t;switch(t){case"number":if(e==="integer")return"integer";case"integer":if(e==="number")return"integer";default:return}}function Se(t,e,r){return[t,e,r]}function In(t){const e=new Map;for(const[r,a,n]of t){const i=s=>{if(!n(s))throw new Error(`Schema keys '${r}' and '${a}' are conflicting (${r}: ${JSON.stringify(s[r])}, ${a}: ${JSON.stringify(s[a])})`)};for(const s of[[r,a],[a,r]]){let o=e.get(s[0]);o===void 0&&(o=[],e.set(s[0],o)),o.push({oppositeKey:s[1],check:i})}}return e}const Nn=[Se("minimum","maximum",t=>t.maximum>=t.minimum),Se("exclusiveMinimum","maximum",t=>t.maximum>t.exclusiveMinimum),Se("minimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.minimum),Se("exclusiveMinimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.exclusiveMinimum),Se("minLength","maxLength",t=>t.maxLength>=t.minLength),Se("minItems","maxItems",t=>t.maxItems>=t.minItems),Se("minProperties","maxProperties",t=>t.maxProperties>=t.minProperties)];function Ln({mergePatterns:t=Tn,isSubRegExp:e=Object.is,intersectJson:r=Yt,deduplicateJsonSchemaDef:a=Qe,defaultMerger:n=Qe,assigners:i=[],mergers:s,checks:o=Nn}={}){function m(c){const d=c.length;let u=c[0];for(let _=1;_<d;_++){const g=C(u,c[_]);if(g===!1)return!1;ge(g)||(u=g)}return u}function h(c,d,u,_,g,E,F){if(c.length=0,u===!1)return!1;if(c.push(u),g!==void 0){if(g===!1)return!1;c.push(g)}if(lt(c,d,E))return!1;const P=c.length<2;if(F===!1){if(P)return;if(lt(c,d,_))return!1}else P&&F!==void 0&&c.push(F);return c.length===1?c[0]:m(c)}function D(c,d,u,_,g,E){const F=u.length;if(F>0&&g!==!1)if(E)Object.assign(c,d);else for(let O=0;O<F;O++){const P=u[O];_.has(P)||(c[P]=C(d[P],g))}return c}const p=(c,{properties:d={},patternProperties:u,additionalProperties:_=!0},{properties:g={},patternProperties:E,additionalProperties:F=!0})=>{const O=ge(_),P=ge(F);if(O&&P)return be(c,"properties",X(d,g)),be(c,"patternProperties",u&&E?X(u,E):u??E),delete c.additionalProperties,c;const $=C(_,F);be(c,"additionalProperties",$);const A={},R=Object.keys(d),K=R.length,[k,Z]=u?ot(u):it,[z,ee]=E?ot(E):it,v=[],M=new Set,Y=P?void 0:F;for(let me=0;me<K;me++){const ae=R[me];M.add(ae);const ce=h(v,ae,d[ae],k,g[ae],z,Y);ce!==void 0&&(A[ae]=ce)}const te=Object.keys(g),ue=te.length,Re=O?void 0:_;for(let me=0;me<ue;me++){const ae=te[me];if(M.has(ae))continue;const ce=h(v,ae,g[ae],z,void 0,k,Re);ce!==void 0&&(A[ae]=ce)}be(c,"properties",A);let fe={};const Te=new Set;if(Z.length>0&&ee.length>0){const me=Ue(Z,ee,(ae,ce)=>{e(ae,ce)&&Te.add(ae),e(ce,ae)&&Te.add(ce),fe[t(ae,ce)]=C(u[ae],E[ce])});for(;!me.next().done;);}return fe=D(fe,u,Z,Te,F,P),fe=D(fe,E,ee,Te,_,O),be(c,"patternProperties",fe),c},w=(c,{items:d=[],additionalItems:u},{items:_=[],additionalItems:g})=>{const E=Array.isArray(d),F=Array.isArray(_),O=[];if(c.items=O,E&&F){const[P,$,A]=d.length<_.length?[d.length,u,_]:[_.length,g,d];let R=0;for(;R<P;R++)O.push(C(d[R],_[R]));if($===!1)c.additionalItems=!1;else{const K=$===void 0||ge($);for(;R<A.length;R++)O.push(K?A[R]:C(A[R],$));be(c,"additionalItems",u!==void 0&&g!==void 0?C(u,g):u??g)}}else if(E||F){const[P,$,A]=E?[d,_,u]:[_,d,g];be(c,"additionalItems",A&&C(A,$));for(let R=0;R<P.length;R++)O.push(C(P[R],$))}else delete c.additionalItems,c.items=C(d,_);return c},S=(c,d,u)=>{ct(c,d);const _=ct({},u);return c.allOf===void 0?c.allOf=[_]:c.allOf=c.allOf.concat(_),c};function V(c,d){return a(Array.from(Ue(c,d,C)))}const I=Cn([[kn,p],[wn,w],[Vn,S],...i]),H=In(o);function C(c,d){if(c===!1||d===!1)return!1;if(ge(c))return ge(d)?!0:d;if(ge(d))return c;let u={...c};const _=new Set,g=new Set,E=Object.keys(d),F=E.length;for(let O=0;O<F;O++){const P=E[O],$=d[P];if($===void 0)continue;const A=H.get(P);if(A!==void 0){const Z=A.length;for(let z=0;z<Z;z++){const ee=A[z];c[ee.oppositeKey]!==void 0&&g.add(ee.check)}}const R=c[P];if(R===void 0){u[P]=$;continue}const K=I.get(P);if(K){_.add(K);continue}const k=Q[P]??n;u[P]=k(R,$)}for(const O of _)u=O(u,c,d);for(const O of g)O(u);return u}const X=st(C),Q={$id:n,$ref:n,$schema:n,$comment:n,$defs:X,definitions:X,type:(c,d)=>{if(c===d)return c;const u=Array.isArray(c),_=Array.isArray(d);if(!u&&!_){const g=Ke(c,d);if(g!==void 0)return g}else if(u||_){const g=new Set;if(u&&_)for(const F of Ue(c,d,Ke))F!==void 0&&g.add(F);else{const F=u?c:d,O=u?d:c,P=F.length;for(let $=0;$<P;$++){const A=Ke(O,F[$]);A!==void 0&&g.add(A)}}const E=g.size;if(E===1)return g.values().next().value;if(E>1)return Array.from(g)}throw new Error(`It is not possible to create an intersection of the following incompatible types: ${c.toString()}, ${d.toString()}`)},default:n,description:n,title:n,const:n,format:n,contentEncoding:n,contentMediaType:n,not:(c,d)=>{const u=a([c,d]);return u.length===1?u[0]:{anyOf:u}},pattern:t,readOnly:je,writeOnly:je,enum:(c,d)=>{const u=r(c,d);if(u.length===0)throw new Error(`Intersection of the following enums is empty: "${JSON.stringify(c)}", "${JSON.stringify(d)}"`);return u},anyOf:V,oneOf:V,allOf:(c,d)=>a(c.concat(d)),propertyNames:C,contains:C,dependencies:st((c,d)=>Array.isArray(c)?Array.isArray(d)?Le(c,d):C(d,{required:c}):Array.isArray(d)?C(c,{required:d}):C(c,d)),examples:(c,d)=>{if(!Array.isArray(c)||!Array.isArray(d))throw new Error(`Value of the 'examples' field should be an array, but got "${JSON.stringify(c)}" and "${JSON.stringify(d)}"`);return Le(c,d)},multipleOf:(c,d)=>{let u=1;for(;!Number.isInteger(c)||!Number.isInteger(d);)u*=10,c*=10,d*=10;return Mn(c,d)/u},exclusiveMaximum:Math.min,maximum:Math.min,maxItems:Math.min,maxLength:Math.min,maxProperties:Math.min,exclusiveMinimum:Math.max,minimum:Math.max,minItems:Math.max,minLength:Math.max,minProperties:Math.max,uniqueItems:je,required:Le,...s};return{mergeSchemaDefinitions:C,mergeArrayOfSchemaDefinitions:m}}function Bn(t){const e=[],r=[t];for(;r.length>0;){const a=r.pop();if(typeof a=="boolean"||a.allOf===void 0){e.push(a);continue}const{allOf:n,...i}=a;e.push(i);for(let s=n.length-1;s>=0;s--)r.push(n[s])}return e}function Un(t){return e=>t(Bn(e))}function jn(t,e){return we(t,r=>{if(!ht(r))return r;const a=r[Ze];return a!==void 0&&a.startsWith("#")&&(r[Ze]=`${e}${a}`),r})}function Kn(t){return t.split("/").slice(1).map(e=>e.replace(/~1/g,"/").replace(/~0/g,"~"))}function Hn(t,e){const r=[];if(t==="")return r;const a=Kn(t);let n=e;for(const i of a)if(Array.isArray(n)&&/^\d+$/.test(i)){const s=Number(i);r.push(s),n=n[s]}else r.push(i),n=n?.[i];return r}const Ks=[!0,!1];function He(t,e){return typeof t=="function"?t(e):t}const $e=Symbol("unchanged");function zn(t){return function e(r,a){if(r===a)return $e;if(typeof r=="object"&&typeof a=="object"){const n=Array.isArray(r),i=Array.isArray(a);if(n&&i){const s=Math.min(r.length,a.length);let o=0;for(;o<s;o++){const m=e(r[o],a[o]);m!==$e&&(r[o]=m)}if(r.length!==a.length){const m=t.get(r)??r;for(;o<a.length;o++)m.push(a[o]);m.splice(a.length)}return $e}if(!n&&!i&&r!==null&&a!==null&&et(r)&&et(a)){const s=Object.keys(r);let o=s.length;for(let h=0;h<o;h++){const D=s[h];D in a||delete r[D]}const m=Object.keys(a);o=m.length;for(let h=0;h<o;h++){const D=m[h],p=e(r[D],a[D]);p!==$e&&(r[D]=p)}return $e}}return a}}const Yn="uiOptionsRegistry";function Jn(t){let e=_e(Rr(t));return{get current(){return l(e)},set current(r){he(e,r,!0)}}}function Gn(t){const e=b(()=>t.idPrefix??yt),r=b(()=>t.uiSchema??{}),a=b(()=>_r(l(r),t.uiSchema)??{}),n=b(()=>t[Yn]??{}),i=b(()=>(t.schema,{current:void 0})),s=b(()=>Sr(l(i),[])),o=b(()=>He(t.validator,{uiSchema:l(r),uiOptionsRegistry:l(n),schema:t.schema,merger:()=>l(m)})),m=b(()=>He(t.merger,{validator:l(o),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n)})),h=b(()=>t.value?br(t.value):Jn(l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}))),D=b(()=>He(t.idBuilder,{idPrefix:l(e),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n),merger:l(m),validator:l(o),valueRef:l(h)})),p=b(()=>yr(l(o),l(m),t.schema,t.schema,l(h).current)),w=new WeakMap,S=b(()=>_t(w,v=>l(D).fromPath(v))),V=b(()=>{const v=new Or(l(i)),M=t.initialErrors;return M===void 0?v:Array.isArray(M)?v.updateErrors(M):v.assign(M)}),I=b(()=>t.disabled??!1),H=b(()=>t.fieldsValidationMode??0),C=b(()=>t.keyedArraysMap??new WeakMap),X=b(()=>zn(l(C))),Q=b(()=>t.schedulerYield??(typeof scheduler<"u"&&"yield"in scheduler)?scheduler.yield.bind(scheduler):({signal:v})=>new Promise((M,Y)=>{setTimeout(()=>{v.aborted?Y(v.reason):M()},0)})),c=b(()=>pr(l(Q))),d=b(()=>gr(t.translation)),u=new Jt,_=b(()=>u.size>0),g=b(()=>$r(u,l(s),rt));let E=!0,F=b(()=>{t.schema;const v=E;return E=!1,v});const O=b(()=>"validateFormValueAsync"in l(o)?(v,M,Y)=>l(o).validateFormValueAsync(v,M,Y):(v,M,Y)=>Promise.resolve(l(o).validateFormValue(M,Y))),P=tt({async execute(v){return vr(k,l(s),rt),await l(O)(v,t.validateByRetrievedSchema?l(p):t.schema,gt(l(h).current))},onSuccess(v,M){if(hr(k,v.errors??[]),v.errors===void 0){t.onSubmit?.(v.value,M),u.clear();return}t.onSubmitError?.(v,M,k)},onFailure(v,M){Be(k,l(s),[l(d)("validation-process-error",{error:v})]),t.onSubmissionFailure?.(v,M)},get combinator(){return t.submissionCombinator},get delayedMs(){return t.submissionDelayedMs},get timeoutMs(){return t.submissionTimeoutMs}}),$=b(()=>Ar(l(o))?(v,M,Y)=>l(o).validateFieldValueAsync(v,M,Y):Fr(l(o))?(v,M,Y)=>Promise.resolve(l(o).validateFieldValue(M,Y)):()=>Promise.resolve([])),A=tt({execute(v,M,Y){const te=t.fieldsValidationDebounceMs??300;if(te<0)return l($)(v,M,Y);const ue=Promise.withResolvers(),Re=setTimeout(()=>{ue.resolve(l($)(v,M,Y))},te),fe=()=>{clearTimeout(Re),ue.reject(new DOMException("field validation has been aborted","AbortError"))};return v.addEventListener("abort",fe),ue.promise.finally(()=>{v.removeEventListener("abort",fe)})},onSuccess(v,M){Be(k,M.path,v)},onFailure(v,M,Y){v.reason!=="aborted"&&Be(k,M.path,[l(d)("validation-process-error",{error:v})]),t.onFieldsValidationFailure?.(v,M,Y)},get combinator(){return t.fieldsValidationCombinator??mr},get delayedMs(){return t.fieldsValidationDelayedMs},get timeoutMs(){return t.fieldsValidationTimeoutMs}});function R(v){v.preventDefault(),P.run(v)}function K(v){v?.preventDefault(),u.clear(),l(V).clear(),l(h).current=l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}),t.onReset?.(v)}const k={submission:P,fieldsValidation:A,get isSubmitted(){return l(g)},get isChanged(){return l(_)},submit:R,reset:K,[fr]:u,get[vt](){return l(e)},get[dr](){return l(V)},get[ur](){return l(i)},get[cr](){return l(S)},get[Ie](){return l(s)},get[Ve](){return l(h).current},set[Ve](v){l(h).current=v},get[lr](){return l(H)},get[ir](){return l(c)},get[or](){return l(C)},get[Ye](){return t.schema},get[ze](){return l(p)},get[sr](){return l(r)},get[xe](){return l(a)},get[ar](){return t.extraUiOptions},get[nr](){return l(n)},get[rr](){return l(I)},get[tr](){return l(o)},get[er](){return l(m)},get[Zt](){return l(Z)},get[Qt](){return t.theme},get[Xt](){return t.translation},get[Wt](){return l(d)},get[qt](){return t.icons},[Gt](){z||(z=!0,queueMicrotask(ee))}},Z=b(()=>t.resolver(k));let z=!1;function ee(){z=!1;const v=l(m).mergeFormDataAndSchemaDefaults({formData:l(h).current,schema:t.schema,initialDefaultsGenerated:l(F)});he(F,!0);const M=l(X)(l(h).current,v);M!==$e&&(l(h).current=M)}return k}var qn=U('<input type="hidden"/>');function Wn(t,e){L(e,!0);const r=T(e,"name",3,Pr);var a=qn();Er(a),Pe(()=>{Dr(a,"name",r()),xr(a,e.form[vt])}),f(t,a),B()}var Xn=U("<!> <!>",1);function Rt(t,e){L(e,!0);const r=Ne(),a=b(()=>({path:r[Ie],title:Mr(r,r[xe])??r[ze].title??"",schema:r[ze],uiSchema:r[xe],required:!0})),n=b(()=>Tr(r,l(a)));var i=Xn(),s=y(i);Wn(s,{get form(){return r}});var o=J(s,2);{let m=b(()=>Ge(r,l(a)));x(o,()=>l(n),(h,D)=>{D(h,{type:"field",get config(){return l(a)},uiOption:p=>Je(r,l(a),p),get translate(){return l(m)},get value(){return r[Ve]},set value(p){r[Ve]=p}})})}f(t,i),B()}function Qn(t,e){L(e,!0);const r=Ne(),a=b(()=>({path:bt(r,r[Ie],"submit"),title:"",schema:r[Ye],uiSchema:r[xe],required:!1})),n=b(()=>Ee(r,"submitButton",l(a)));var i=N(),s=y(i);x(s,()=>l(n),(o,m)=>{m(o,{get config(){return l(a)},children:(h,D)=>{{let p=b(()=>Ge(r,l(a)));pt(h,{get config(){return l(a)},id:"submit",get translate(){return l(p)}})}},$$slots:{default:!0}})}),f(t,i),B()}function Pt(t,e){L(e,!0);let r=T(e,"ref",15);const a=Ne(),n=b(()=>({path:bt(a,a[Ie],"form"),title:"",schema:a[Ye],uiSchema:a[xe],required:!1})),i=b(()=>Ee(a,"form",l(n)));var s=N(),o=y(s);x(o,()=>l(i),(m,h)=>{h(m,{get config(){return l(n)},get children(){return e.children},get attributes(){return e.attributes},get ref(){return r()},set ref(D){r(D)}})}),f(t,s),B()}var Zn=U("<!> <!>",1);function Et(t,e){L(e,!0);let r=T(e,"ref",15),a=j(e,["$$slots","$$events","$$legacy","ref","form"]);St(e.form),Pt(t,{get attributes(){return a},get ref(){return r()},set ref(n){r(n)},children:(n,i)=>{var s=Zn(),o=y(s);Rt(o,{});var m=J(o,2);Qn(m,{}),f(n,s)},$$slots:{default:!0}}),B()}const ea=qe(Cr),Dt=kr(ea,wr);function ta(t,e){L(e,!0);let r=T(e,"open",15,!1),a=T(e,"onOpenChange",3,Ae),n=T(e,"onOpenChangeComplete",3,Ae);Vr.create({variant:de(()=>"alert-dialog"),open:de(()=>r(),o=>{r(o),a()(o)}),onOpenChangeComplete:de(()=>n())});var i=N(),s=y(i);W(s,()=>e.children??re),f(t,i),B()}var ra=U("<button><!></button>");function na(t,e){const r=We();L(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=j(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=Ir.create({id:de(()=>a()),ref:de(()=>n(),w=>n(w))}),o=b(()=>De(i,s.props));var m=N(),h=y(m);{var D=w=>{var S=N(),V=y(S);W(V,()=>e.child,()=>({props:l(o)})),f(w,S)},p=w=>{var S=ra();le(S,()=>({...l(o)}));var V=G(S);W(V,()=>e.children??re),q(S),f(w,S)};ye(h,w=>{e.child?w(D):w(p,!1)})}f(t,m),B()}var aa=U("<button><!></button>");function sa(t,e){const r=We();L(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=T(e,"disabled",3,!1),s=j(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const o=Nr.create({id:de(()=>a()),ref:de(()=>n(),S=>n(S)),disabled:de(()=>!!i())}),m=b(()=>De(s,o.props));var h=N(),D=y(h);{var p=S=>{var V=N(),I=y(V);W(I,()=>e.child,()=>({props:l(m)})),f(S,V)},w=S=>{var V=aa();le(V,()=>({...l(m)}));var I=G(V);W(I,()=>e.children??re),q(V),f(S,V)};ye(D,S=>{e.child?S(p):S(w,!1)})}f(t,h),B()}var oa=U("<!> <!>",1),ia=U("<!> <div><!></div>",1);function la(t,e){const r=We();L(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=T(e,"forceMount",3,!1),s=T(e,"interactOutsideBehavior",3,"ignore"),o=T(e,"onCloseAutoFocus",3,Ae),m=T(e,"onEscapeKeydown",3,Ae),h=T(e,"onOpenAutoFocus",3,Ae),D=T(e,"onInteractOutside",3,Ae),p=T(e,"preventScroll",3,!0),w=T(e,"trapFocus",3,!0),S=T(e,"restoreScrollDelay",3,null),V=j(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const I=Lr.create({id:de(()=>a()),ref:de(()=>n(),c=>n(c))}),H=b(()=>De(V,I.props));var C=N(),X=y(C);{var Q=c=>{Br(c,{get ref(){return I.opts.ref},loop:!0,get trapFocus(){return w()},get enabled(){return I.root.opts.open.current},get onCloseAutoFocus(){return o()},onOpenAutoFocus:u=>{h()(u),!u.defaultPrevented&&(u.preventDefault(),Ur(0,()=>I.opts.ref.current?.focus()))},focusScope:(u,_)=>{let g=()=>_?.().props;jr(u,ne(()=>l(H),{get enabled(){return I.root.opts.open.current},get ref(){return I.opts.ref},onEscapeKeydown:E=>{m()(E),!E.defaultPrevented&&I.root.handleClose()},children:(E,F)=>{Kr(E,ne(()=>l(H),{get ref(){return I.opts.ref},get enabled(){return I.root.opts.open.current},get interactOutsideBehavior(){return s()},onInteractOutside:O=>{D()(O),!O.defaultPrevented&&I.root.handleClose()},children:(O,P)=>{Hr(O,ne(()=>l(H),{get ref(){return I.opts.ref},get enabled(){return I.root.opts.open.current},children:($,A)=>{var R=N(),K=y(R);{var k=z=>{var ee=oa(),v=y(ee);{var M=te=>{nt(te,{get preventScroll(){return p()},get restoreScrollDelay(){return S()}})};ye(v,te=>{I.root.opts.open.current&&te(M)})}var Y=J(v,2);{let te=b(()=>({props:De(l(H),g()),...I.snippetProps}));W(Y,()=>e.child,()=>l(te))}f(z,ee)},Z=z=>{var ee=ia(),v=y(ee);nt(v,{get preventScroll(){return p()}});var M=J(v,2);le(M,te=>({...te}),[()=>De(l(H),g())]);var Y=G(M);W(Y,()=>e.children??re),q(M),f(z,ee)};ye(K,z=>{e.child?z(k):z(Z,!1)})}f($,R)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};ye(X,c=>{(I.shouldRender||i())&&c(Q)})}f(t,C),B()}var ca=U("<div><!></div>");function ua(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ca();le(n,s=>({"data-slot":"sheet-footer",class:s,...a}),[()=>oe("mt-auto flex flex-col gap-2 p-4",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}function da(t,e){L(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Me(t,ne({name:"copy"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function fa(t,e){L(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Me(t,ne({name:"pencil"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function ma(t,e){L(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Me(t,ne({name:"save"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function ha(t,e){L(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Me(t,ne({name:"trash-2"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function xt(t,e){L(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Me(t,ne({name:"trash"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),B()}function Oe(t,e){}function va(t,e){L(e,!0),Us(e.crud.form);var r=N(),a=y(r);W(a,()=>e.children),f(t,r),B()}function ga(t,e){L(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);var n=N(),i=y(n);zr(i,()=>r().form,s=>{va(s,{get crud(){return r()},children:(o,m)=>{var h=N(),D=y(h);{var p=S=>{Et(S,{get form(){return r().form},get ref(){return r().formElement},set ref(V){r().formElement=V}})},w=S=>{Pt(S,{get ref(){return r().formElement},set ref(V){r().formElement=V},children:(V,I)=>{Rt(V,{})},$$slots:{default:!0}})};ye(D,S=>{a()?S(w,!1):S(p)})}f(o,h)},$$slots:{default:!0}})}),f(t,n),B()}function Mt(t,e){L(e,!0);let r=T(e,"open",15,!1),a=j(e,["$$slots","$$events","$$legacy","open"]);var n=N(),i=y(n);x(i,()=>ta,(s,o)=>{o(s,ne(()=>a,{get open(){return r()},set open(m){r(m)}}))}),f(t,n),B()}function _a(t,e){let r=j(e,["$$slots","$$events","$$legacy"]);var a=N(),n=y(a);x(n,()=>Yr,(i,s)=>{s(i,ne(()=>r))}),f(t,a)}function Tt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("text-lg font-semibold",e.class));x(i,()=>Jr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-title",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}function Ct(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe(Ot(),e.class));x(i,()=>na,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-action",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}function kt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe(Ot({variant:"outline"}),e.class));x(i,()=>sa,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-cancel",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var ya=U("<div><!></div>");function wt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ya();le(n,s=>({"data-slot":"alert-dialog-footer",class:s,...a}),[()=>oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var pa=U("<div><!></div>");function Vt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=pa();le(n,s=>({"data-slot":"alert-dialog-header",class:s,...a}),[()=>oe("flex flex-col gap-2 text-center sm:text-start",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}function ba(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));x(i,()=>Gr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-overlay",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var Sa=U("<!> <!>",1);function It(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);_a(t,ne(()=>e.portalProps,{children:(n,i)=>{var s=Sa(),o=y(s);ba(o,{});var m=J(o,2);{let h=b(()=>oe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));x(m,()=>la,(D,p)=>{p(D,ne({"data-slot":"alert-dialog-content",get class(){return l(h)}},()=>a,{get ref(){return r()},set ref(w){r(w)}}))})}f(n,s)},$$slots:{default:!0}})),B()}function Nt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("text-muted-foreground text-sm",e.class));x(i,()=>qr,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-description",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),B()}var Oa=U("<!> Cancel",1),$a=U("<!> Save",1),Aa=U('<div class="flex flex-col gap-4"><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><h2 class="text-lg font-semibold"> </h2> <!></div> <div><!> <!></div></div> <div><!></div></div>'),Fa=U("<!> <!>",1),Ra=U("<!> <!>",1),Pa=U("<!> <!>",1),Ea=U("<!> <!>",1);function Da(t,e){L(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);const n=b(()=>e.formTitle?r().editingRecord!=null?`Edit ${e.formTitle}`:`Create ${e.formTitle}`:r().editingRecord!=null?"Edit":"Create");var i=Ea(),s=y(i);{var o=h=>{var D=Aa(),p=G(D),w=G(p),S=G(w),V=G(S,!0);q(S);var I=J(S,2);{var H=u=>{Fe(u,{variant:"ghost",size:"icon-sm",class:"text-muted-foreground",onclick:()=>r().openDelete(r().editingRecord),children:(_,g)=>{ha(_,{})},$$slots:{default:!0}})};ye(I,u=>{r().editingRecord&&u(H)})}q(w);var C=J(w,2),X=G(C);Fe(X,{variant:"outline",onclick:()=>{r().isFormOpen=!1,e.onCancel?.()},children:(u,_)=>{var g=Oa(),E=y(g);Wr(E,{}),se(),f(u,g)},$$slots:{default:!0}});var Q=J(X,2);Fe(Q,{onclick:()=>r().submitForm(),children:(u,_)=>{var g=$a(),E=y(g);ma(E,{}),se(),f(u,g)},$$slots:{default:!0}}),q(C),q(p);var c=J(p,2),d=G(c);x(d,()=>r().Form,(u,_)=>{_(u,{get self(){return r()},get hideSubmitButton(){return a()}})}),q(c),q(D),Pe(()=>Ce(V,l(n))),f(h,D)};ye(s,h=>{r().isFormOpen&&h(o)})}var m=J(s,2);x(m,()=>Mt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,w)=>{var S=N(),V=y(S);x(V,()=>It,(I,H)=>{H(I,{children:(C,X)=>{var Q=Pa(),c=y(Q);x(c,()=>Vt,(u,_)=>{_(u,{children:(g,E)=>{var F=Fa(),O=y(F);x(O,()=>Tt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("Delete record");f(R,k)},$$slots:{default:!0}})});var P=J(O,2);x(P,()=>Nt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("This action cannot be undone.");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=J(c,2);x(d,()=>wt,(u,_)=>{_(u,{children:(g,E)=>{var F=Ra(),O=y(F);x(O,()=>kt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("Cancel");f(R,k)},$$slots:{default:!0}})});var P=J(O,2);x(P,()=>Ct,($,A)=>{A($,{onclick:()=>{r().confirmDelete(),e.onConfirmDelete?.()},children:(R,K)=>{se();var k=ie("Delete");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),f(t,i),B()}var xa=U('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function Ma(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=xa(),i=G(n);le(i,o=>({"data-slot":"table",class:o,...a}),[()=>oe("w-full caption-bottom text-sm",e.class)]);var s=G(i);W(s,()=>e.children??re),q(i),ve(i,o=>r(o),()=>r()),q(n),f(t,n),B()}var Ta=U("<tbody><!></tbody>");function Ca(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ta();le(n,s=>({"data-slot":"table-body",class:s,...a}),[()=>oe("[&_tr:last-child]:border-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var ka=U("<td><!></td>");function ut(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ka();le(n,s=>({"data-slot":"table-cell",class:s,...a}),[()=>oe("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var wa=U("<th><!></th>");function dt(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=wa();le(n,s=>({"data-slot":"table-head",class:s,...a}),[()=>oe("text-foreground h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Va=U("<thead><!></thead>");function Ia(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Va();le(n,s=>({"data-slot":"table-header",class:s,...a}),[()=>oe("[&_tr]:border-b",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var Na=U("<tr><!></tr>");function ft(t,e){L(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Na();le(n,s=>({"data-slot":"table-row",class:s,...a}),[()=>oe("hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e.class)]);var i=G(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),B()}var La=U("<!> <!>",1),Ba=U('<div class="flex gap-2"><!> <!></div>'),Ua=U("<!> <!>",1),ja=U("<!> <!>",1),Ka=U('<!> <div class="p-4"><!></div> <!>',1),Ha=U("<!> <!>",1),za=U("<!> <!>",1),Ya=U("<!> <!>",1),Ja=U('<div class="flex flex-col gap-4"><div class="rounded-md border"><!></div></div> <!> <!>',1);function Ga(t,e){L(e,!0);let r=T(e,"self",7);var a=Ja(),n=y(a),i=G(n),s=G(i);x(s,()=>Ma,(h,D)=>{D(h,{children:(p,w)=>{var S=ja(),V=y(S);x(V,()=>Ia,(H,C)=>{C(H,{children:(X,Q)=>{var c=N(),d=y(c);x(d,()=>ft,(u,_)=>{_(u,{children:(g,E)=>{var F=La(),O=y(F);ke(O,16,()=>r().columns,$=>$,($,A)=>{var R=N(),K=y(R);x(K,()=>dt,(k,Z)=>{Z(k,{children:(z,ee)=>{se();var v=ie();Pe(()=>Ce(v,A)),f(z,v)},$$slots:{default:!0}})}),f($,R)});var P=J(O,2);x(P,()=>dt,($,A)=>{A($,{class:"w-[120px]",children:(R,K)=>{se();var k=ie("Actions");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(X,c)},$$slots:{default:!0}})});var I=J(V,2);x(I,()=>Ca,(H,C)=>{C(H,{children:(X,Q)=>{var c=N(),d=y(c);ke(d,17,()=>r().records,u=>r().getKey(u),(u,_)=>{var g=N(),E=y(g);x(E,()=>ft,(F,O)=>{O(F,{children:(P,$)=>{var A=Ua(),R=y(A);ke(R,16,()=>r().columns,k=>k,(k,Z)=>{var z=N(),ee=y(z);x(ee,()=>ut,(v,M)=>{M(v,{children:(Y,te)=>{se();var ue=ie();Pe(Re=>Ce(ue,Re),[()=>r().displayValue(l(_)[Z])]),f(Y,ue)},$$slots:{default:!0}})}),f(k,z)});var K=J(R,2);x(K,()=>ut,(k,Z)=>{Z(k,{children:(z,ee)=>{var v=Ba(),M=G(v);Fe(M,{variant:"ghost",size:"icon-sm",onclick:()=>r().openEdit(l(_)),children:(te,ue)=>{fa(te,{})},$$slots:{default:!0}});var Y=J(M,2);Fe(Y,{variant:"ghost",size:"icon-sm",onclick:()=>r().openDelete(l(_)),children:(te,ue)=>{xt(te,{})},$$slots:{default:!0}}),q(v),f(z,v)},$$slots:{default:!0}})}),f(P,A)},$$slots:{default:!0}})}),f(u,g)}),f(X,c)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),q(i),q(n);var o=J(n,2);x(o,()=>en,(h,D)=>{D(h,{get open(){return r().isFormOpen},set open(p){r().isFormOpen=p},children:(p,w)=>{var S=N(),V=y(S);x(V,()=>Xr,(I,H)=>{H(I,{class:"overflow-y-auto",children:(C,X)=>{var Q=Ka(),c=y(Q);x(c,()=>Qr,(g,E)=>{E(g,{children:(F,O)=>{var P=N(),$=y(P);x($,()=>Zr,(A,R)=>{R(A,{children:(K,k)=>{se();var Z=ie();Pe(()=>Ce(Z,r().editingRecord!=null?"Edit":"Create")),f(K,Z)},$$slots:{default:!0}})}),f(F,P)},$$slots:{default:!0}})});var d=J(c,2),u=G(d);Et(u,{get form(){return r().form}}),q(d);var _=J(d,2);x(_,()=>ua,(g,E)=>{E(g,{children:(F,O)=>{Fe(F,{variant:"outline",onclick:()=>r().isFormOpen=!1,children:(P,$)=>{se();var A=ie("Cancel");f(P,A)},$$slots:{default:!0}})},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})});var m=J(o,2);x(m,()=>Mt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,w)=>{var S=N(),V=y(S);x(V,()=>It,(I,H)=>{H(I,{children:(C,X)=>{var Q=Ya(),c=y(Q);x(c,()=>Vt,(u,_)=>{_(u,{children:(g,E)=>{var F=Ha(),O=y(F);x(O,()=>Tt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("Delete record");f(R,k)},$$slots:{default:!0}})});var P=J(O,2);x(P,()=>Nt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("This action cannot be undone.");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=J(c,2);x(d,()=>wt,(u,_)=>{_(u,{children:(g,E)=>{var F=za(),O=y(F);x(O,()=>kt,($,A)=>{A($,{children:(R,K)=>{se();var k=ie("Cancel");f(R,k)},$$slots:{default:!0}})});var P=J(O,2);x(P,()=>Ct,($,A)=>{A($,{onclick:()=>r().confirmDelete(),children:(R,K)=>{se();var k=ie("Delete");f(R,k)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),f(t,a),B()}class Hs{constructor(e,r={}){this.repository=e,this.options=r}get Table(){return Ga}get Form(){return ga}get Forms(){return Da}get schema(){return this.repository.getSchema()}get uiSchema(){return tn.merge(qa(this.options.form??{}),this.repository.getUiSchema?.())}get records(){return this.repository.list()}get entityName(){return this.repository.getEntityName()}get def(){return this.schema.$defs?.[this.entityName]}get columns(){return this.def&&typeof this.def=="object"&&"properties"in this.def&&this.def.properties?Object.keys(this.def.properties):[]}#i=b(()=>Bs({schema:this.schema,uiSchema:this.uiSchema,initialValue:this.editingRecord??this.createInitialValue??void 0,onSubmit:e=>this.handleSubmit(e)}));get form(){return l(this.#i)}#e=_e();get formElement(){return l(this.#e)}set formElement(e){he(this.#e,e,!0)}submitForm(){this.formElement?.requestSubmit()}#t=_e(!1);get isFormOpen(){return l(this.#t)}set isFormOpen(e){he(this.#t,e,!0)}#r=_e(null);get editingRecord(){return l(this.#r)}set editingRecord(e){he(this.#r,e,!0)}#n=_e(null);get createInitialValue(){return l(this.#n)}set createInitialValue(e){he(this.#n,e,!0)}#a=_e(null);get createCallback(){return l(this.#a)}set createCallback(e){he(this.#a,e,!0)}#s=_e(!1);get isDeleteDialogOpen(){return l(this.#s)}set isDeleteDialogOpen(e){he(this.#s,e,!0)}#o=_e(null);get recordToDelete(){return l(this.#o)}set recordToDelete(e){he(this.#o,e,!0)}openCreate(e){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=null,this.isFormOpen=!0}openCreateWithCallback(e,r){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=r,this.isFormOpen=!0}openEdit(e){this.editingRecord=e,this.createInitialValue=null,this.createCallback=null,this.isFormOpen=!0}openDelete(e){this.recordToDelete=e,this.isDeleteDialogOpen=!0}handleSubmit(e){if(this.editingRecord!=null){const r=this.repository.getKey(this.editingRecord),a=this.repository.update(r,e);a.isOk?(pe.success("Record updated"),this.isFormOpen=!1):pe.error(a.error.message)}else{const r=this.createCallback;if(r)r(e),this.createCallback=null,this.createInitialValue=null,this.isFormOpen=!1,pe.success("Record created");else{const a=this.repository.create(e);a.isOk?(pe.success("Record created"),this.isFormOpen=!1,this.createInitialValue=null):pe.error(a.error.message)}}}confirmDelete(){if(this.recordToDelete==null)return;const e=this.repository.getKey(this.recordToDelete),r=this.repository.delete(e);r.isOk?(pe.success("Record deleted"),this.isDeleteDialogOpen=!1,this.recordToDelete=null):pe.error(r.error.message)}displayValue(e){return e==null?"":typeof e=="object"?JSON.stringify(e):String(e)}getKey(e){return this.repository.getKey(e)}}function qa(t){const e={arrayTemplate:Oe,objectTemplate:Oe,fieldTemplate:Oe,arrayItemTemplate:Oe,multiFieldTemplate:Oe,objectPropertyTemplate:Oe},r={};for(const a in t.hide)r[a]={"ui:components":e};return r}function Wa(t){return({schema:e})=>{if(e.oneOf!==void 0)return"oneOfField";if(e.anyOf!==void 0)return"anyOfField";const r=$t(e);return r==="array"?At(e)?"tupleField":"arrayField":`${r}Field`}}const Xa={submit:"Submit","array-schema-missing-items":"Missing items definition",yes:"Yes",no:"No","multi-schema-option-label-with-title":({title:t,index:e})=>`${t} option ${e+1}`,"multi-schema-option-label":({index:t})=>`Option ${t+1}`,"add-array-item":"Add item","copy-array-item":"Copy","add-object-property":"Add property","move-array-item-down":"Down","move-array-item-up":"Up","remove-array-item":"Del","remove-object-property":"Del",edit:"Edit",clear:"Clear","validation-process-error":({error:t})=>Qa[t.reason],"component-not-found":({type:t})=>`"${t}" component not found`,"key-input-title":({name:t})=>`${t} Key`,"additional-property":"Additional property","unknown-field-error":({schema:t})=>`You're seeing this error because your JSON Schema doesnâ€™t contain enough information
to determine its type. You can:
- specify the schema type (for example, using the 'type' keyword)
- specify which component to use via UiSchema
  ('{ "ui:components": { "unknownField": "myField" } }')
- specify which component to use by providing a custom 'resolver'
  (https://x0k.dev/svelte-jsonschema-form/guides/fields-resolution/)

JSON Schema:
${JSON.stringify(t,null,2)}`},Qa={aborted:"Validation aborted",timeout:"Validation terminated by timeout",error:"Something went wrong during validation"},Za=qe(Xa),es=t=>{nn(t,{size:20})},ts=t=>{rn(t,{size:20})},mt=t=>{xt(t,{size:20})},rs=t=>{da(t,{size:20})},ns={"move-array-item-up":es,"move-array-item-down":ts,"remove-array-item":mt,"copy-array-item":rs,"remove-object-property":mt},as=ns,ss=qe(as),os=".",is="::";function ls({idPrefix:t=yt,idSeparator:e=os,idPseudoSeparator:r=is}){return{fromPath:a=>{let n="";for(let i=0;i<a.length;i++){const s=a[i],o=an(s);n+=o!==void 0?`${r}${o}`:`${e}${s}`}return`${t}${n}`}}}function cs({jsonSchemaMerger:{mergeSchemaDefinitions:t,mergeArrayOfSchemaDefinitions:e}=Ln(),jsonSchemaAllOfMerge:r=Un(e)}={}){return{mergeSchemas(a,n){return t(a,n)},mergeAllOf(a){return r(a)}}}function us(t){const e=cs(t);return{...e,mergeFormDataAndSchemaDefaults({formData:r,schema:a,initialDefaultsGenerated:n=!1,includeUndefinedValues:i=!1}){return sn(t.validator,e,a,r,t.schema,i,t,n)}}}const ds={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!0},fs=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ms=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function hs(t){return t.addFormat("color",fs),t.addFormat(ln,ms),t}function vs(t){return t.addKeyword(on),t}function Lt(t){return vs(hs(t))}function gs(t,e,r=new WeakMap){let a="",n=!1;const i=un(r,s=>{let o=s;return n&&(o=jn(s,a),delete o[at]),t.compile(o)});return(s,o)=>{a=o[at]??cn;let m=t.getSchema(a)?.schema;return m!==void 0&&m!==o&&(t.removeSchema(a),r.delete(s),m=void 0),m===void 0&&t.addSchema(o,a),n=s!==o,i(s)}}function _s(t,e){const a=_t(new WeakMap,n=>t.compile({...n,$async:e}));return n=>a(n.schema)}function ys({params:{missingProperty:t,propertyName:e},propertyName:r=e},a){let n=a;return n=t!==void 0?a.concat(t):n,n=r!==void 0?a.concat(r,dn("key-input")):n,n}function Bt({params:{missingProperty:t},parentSchema:e,message:r},a){if(!r)return"";if(t===void 0)return r;const n=a(t,e);return n===void 0?r:r.replace(t,n)}function ps({uiSchema:t={}}){return(e,r)=>({value:r,errors:e.map(a=>{const n=Hn(a.instancePath,r);return{path:ys(a,n),message:Bt(a,(i,s)=>{const o=fn(t,n.concat(i));if(o!==void 0)return o;const m=s?.properties?.[i];if(typeof m=="object")return m.title})}})})}function Ut(t){return t.instancePath===""}function bs(t){return Ut(t)&&t.keyword!=="type"}function Ss(t){return e=>e.filter(t.required?Ut:bs).map(r=>Bt(r,()=>t.title))}function jt(t,e,r,a){t(e);const n=t.errors;return t.errors=null,n?a(n,e):r(e)}const Os=t=>({value:t}),$s=()=>[];function As({compileSchema:t}){return{isValid(e,r,a){if(typeof e=="boolean")return e;const n=t(e,r);try{return n(a)}catch(i){return console.warn("Failed to validate",i),!1}}}}function Fs(t){const e=ps(t);return{validateFormValue(r,a){return jt(t.compileSchema(r,r),a,Os,e)}}}function Rs({compileFieldSchema:t}){return{validateFieldValue(e,r){return jt(t(e),r,$s,Ss(e))}}}function Ps({ajvOptions:t=ds,ajvPlugins:e=Lt,ajv:r=e(new mn.Ajv(t)),validatorsCache:a,compileSchema:n=gs(r,!1,a),compileFieldSchema:i=_s(r,!1),...s}={}){const o={...s,compileSchema:n,compileFieldSchema:i};return Object.assign(As(o),Fs(o),Rs(o))}function Es(t){try{return{ok:!0,value:JSON.parse(t)}}catch(e){return{ok:!1,error:e}}}function Ds(t){return Es(t).ok}function zs(t){return t.startsWith("{")}function Ys(t){return t.startsWith("[")}function Js(t){return t.startsWith('"')}function Gs(t){return t[0]>="0"&&t[0]<="9"||t[0]==="-"}function qs(t){return t==="true"||t==="false"}function xs(t){try{return new RegExp(t),!0}catch{return!1}}function Ms(t){return t.addFormat("json",Ds),t.addFormat("regexp",xs),t}const Ts=t=>Ps({...t,ajvPlugins:e=>Lt(Ms(e))}),Cs=Object.freeze(Object.defineProperty({__proto__:null,icons:ss,idBuilder:ls,merger:us,resolver:Wa,theme:Dt,translation:Za,validator:Ts},Symbol.toStringTag,{value:"Module"})),ks=t=>t;function ws(t,{delay:e=0,duration:r=400,easing:a=ks}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:i=>`opacity: ${i*n}`}}var Vs=U("<div><!></div>");function Is(t,e){L(e,!0);const r=p=>{var w=N(),S=y(w);{let V=b(()=>i.errors());x(S,()=>l(m),(I,H)=>{H(I,{get errors(){return l(V)},get config(){return e.config},disabled:!1,type:"array-item-add",get onclick(){return i.pushItem},children:(C,X)=>{pt(C,{get config(){return e.config},id:"add-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})})}f(p,w)};let a=T(e,"value",15);const n=Ne(),i=yn({ctx:n,config:()=>e.config,value:()=>a(),keyedArray:pn(n,()=>a(),()=>new Sn(p=>a(p)),(p,w)=>new bn(p,w))});hn(i);const s=b(()=>Ee(n,"arrayItemField",e.config)),o=b(()=>Ee(n,"arrayTemplate",e.config)),m=b(()=>Ee(n,"button",e.config));var h=N(),D=y(h);{let p=b(()=>i.errors()),w=b(()=>i.canAdd()?r:void 0);x(D,()=>l(o),(S,V)=>{V(S,{type:"template",get errors(){return l(p)},get config(){return e.config},get value(){return a()},get uiOption(){return e.uiOption},get addButton(){return l(w)},children:(I,H)=>{var C=N(),X=y(C);ke(X,27,()=>({length:i.length()}),(Q,c)=>i.key(c),(Q,c,d)=>{const u=b(()=>i.itemConfig(e.config,a()?.[l(d)],l(d)));var _=Vs(),g=G(_),E=()=>a()?.[l(d)],F=O=>i.set(l(d),O);{let O=b(()=>Ge(n,l(u)));x(g,()=>l(s),(P,$)=>{$(P,{type:"field",get index(){return l(d)},get config(){return l(u)},get value(){return E()},set value(A){F(A)},uiOption:A=>Je(n,l(u),A),get translate(){return l(O)}})})}q(_),vn(_,()=>gn,()=>({duration:500})),_n(3,_,()=>ws),f(Q,_)}),f(I,C)},$$slots:{default:!0}})})}f(t,h),B()}function Ns(t){return e=>{const{schema:r}=e;if(On(t,r))return"enumField";if(r.oneOf!==void 0)return"oneOfField";if(r.anyOf!==void 0)return"anyOfField";const a=$t(r);return a==="array"?$n(t,r)?"multiEnumField":At(r)?"tupleField":An(t,r)&&Je(t,e,"orderable")!==!0?"filesField":"arrayField":Fn(r)?"fileField":`${a}Field`}}const Ls=xn(Dt,{arrayField:Is});function Bs(t){const{schema:e,uiSchema:r,initialValue:a,onSubmit:n}=t;return Gn({...Cs,resolver:Ns,theme:Ls,get initialValue(){return Dn(()=>gt(a))},get schema(){return e},get uiSchema(){return r},fieldsValidationMode:Pn|En,fieldsValidationDebounceMs:200,onSubmit(s,o){o.preventDefault(),n?.(s)}})}function Us(t){St(t),Rn(()=>{t.fieldsValidation.abort()})}export{Hs as C,Ks as D,Oe as H,fa as P,ma as S,ha as T,Rt as a,Ln as b,Gn as c,Cs as d,xs as e,ws as f,zs as g,Ys as h,Ds as i,Js as j,Gs as k,qs as l,Ps as m,Lt as n,Ms as o,Ts as v};
