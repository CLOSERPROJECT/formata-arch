import{M as C,cP as N,cQ as P,cR as j,cS as E,cT as h,cU as R,cV as k,cW as x,cX as z,cY as A,cZ as H,c_ as I,c$ as Q,p as S,$ as Y,h as l,w as V,a as f,b as W,A as u,d as w,Q as X,v as Z,e as O,f as _,B as q,ag as $,n as F,r as b}from"./index-BuAdgX0P.js";import{a as G}from"./await-B0e4RAzk.js";import{s as L,H as T,c as U,I as J}from"./_layout-Cm-KocWj.js";import{h as K,a as aa}from"./shiki-DPQvuX4i.js";function ea(m,p,d=!1,o=!1,y=!1){var i=m,n="";C(()=>{var c=N;if(n===(n=p()??"")){R&&k();return}if(c.nodes!==null&&(P(c.nodes.start,c.nodes.end),c.nodes=null),n!==""){if(R){x.data;for(var t=k(),e=t;t!==null&&(t.nodeType!==z||t.data!=="");)e=t,t=A(t);if(t===null)throw H(),I;E(x,e),i=Q(t);return}var a=n+"";d?a=`<svg>${a}</svg>`:o&&(a=`<math>${a}</math>`);var r=j(a);if((d||o)&&(r=h(r)),E(h(r),r.lastChild),d||o)for(;h(r);)i.before(h(r));else i.before(r)}})}var ra=_("<!> Download",1),ta=_('<p class="text-destructive"> </p>'),sa=_('<div class="dark min-h-0 flex-1 overflow-auto rounded-lg bg-slate-900" data-code-overflow=""><!></div>'),oa=_('<p class="text-muted-foreground">Loading previewâ€¦</p>'),ia=_('<div class="flex min-h-0 grow flex-col gap-4 p-4"><!></div>');function da(m,p){S(p,!0);const d=e=>{q(e,{onclick:y,children:(a,r)=>{var s=ra(),v=O(s);J(v,{}),F(),f(a,s)},$$slots:{default:!0}})},o=u(()=>T(U));Y(()=>{l(o).isErr?L({title:"Export"}):L({title:"Export",right:d})});function y(){const e=T(U);if(e.isErr){$.error(e.error.message);return}const a=new Blob([e.value],{type:"application/yaml"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download="formata-config.yaml",s.click(),URL.revokeObjectURL(r),$.success("Config exported")}var i=ia(),n=w(i);{var c=e=>{var a=ta(),r=w(a,!0);b(a),C(()=>X(r,l(o).error.message)),f(e,a)},t=e=>{var a=Z(),r=O(a);G(r,()=>K,s=>{var v=oa();f(s,v)},(s,v)=>{const D=u(()=>l(o).value),B=u(()=>aa(l(v),"yaml",l(D)));var g=sa(),M=w(g);ea(M,()=>l(B)),b(g),f(s,g)}),f(e,a)};V(n,e=>{l(o).isErr?e(c):e(t,!1)})}b(i),f(m,i),W()}export{da as default};
