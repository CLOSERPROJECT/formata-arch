import{l as ht,bp as Kt,bq as Ht,br as zt,bs as Gt,aY as Qe,bt as ge,bu as Be,bv as Ze,bw as et,bx as Yt,by as Jt,bz as qt,bA as Wt,h as l,bB as Xt,bC as Qt,bD as Zt,bE as er,bF as tr,bG as rr,bH as nr,bI as ar,bJ as xe,bK as sr,bL as ze,bM as Ge,bN as or,bO as ir,bP as lr,bQ as Ie,bR as Ve,bS as cr,bT as ur,bU as dr,bV as vt,bW as fr,i as he,A as b,bX as mr,bY as hr,bZ as vr,b_ as gr,b$ as gt,c0 as _r,c1 as _t,c2 as yr,s as _e,I as pr,c3 as tt,c4 as Le,c5 as br,c6 as Sr,a4 as yt,c7 as Or,c8 as $r,p as B,o as T,c9 as Ar,M as Pe,ca as Fr,cb as Rr,a as f,b as L,f as U,cc as Pr,a9 as Ne,e as y,H as Y,c as x,cd as Ye,ce as Er,cf as Dr,cg as Je,v as N,ch as pt,ci as bt,aC as Ee,Z as St,D as j,cj as qe,aG as xr,ck as Mr,cl as Tr,cm as Ae,t as de,x as W,z as re,m as We,q as Xe,w as ye,y as le,C as De,d as J,r as q,cn as Cr,co as wr,cp as kr,E as ne,cq as Ir,cr as Vr,cs as rt,F as oe,G as ve,az as Me,a6 as Nr,P as Br,ct as Ot,ac as ie,B as Fe,Q as Ce,n as se,R as we,ag as pe,S as $t,cu as At,cv as Lr,cw as Ur,cx as jr,cy as Kr,cz as Hr,cA as nt,cB as zr,cC as Gr,cD as Yr,cE as Jr,cF as qr,ah as Wr,cG as Xr,cH as Qr,cI as Zr,cJ as en,cK as tn,cL as rn,cM as nn,cN as an,_ as sn,a1 as on,a2 as ln,a3 as cn,cO as un}from"./index-D-ra1IDm.js";import{o as at,p as dn,r as fn,q as mn,t as hn,u as vn,A as gn,v as _n,a as yn,b as pn,w as bn,X as Sn,S as On,x as $n,y as An,z as Fn,l as Rn,B as Pn,C as En,E as Dn,G as xn}from"./_layout-C5dcYtvj.js";function ke(t,e,r={type:"root",path:[]}){if(!ht(t))return e(t,r);const a={...t};for(const s of Kt){const o=t[s];if(o===void 0||!Array.isArray(o))continue;const m={type:"array",parent:t,key:s,index:0,path:r.path.concat(s,0)};a[s]=o.map((h,D)=>(m.index=D,m.path[m.path.length-1]=D,ke(h,e,m)))}const n=new Map;for(const s of Ht){const o=t[s];if(o===void 0)continue;const m={type:"record",parent:t,key:s,property:"",path:r.path.concat(s,"")},h=Object.keys(o),D=h.length;for(let p=0;p<D;p++){const k=h[p],S=o[k];if(Array.isArray(S)){n.set(k,S);continue}m.property=k,m.path[m.path.length-1]=k,n.set(k,ke(S,e,m))}a[s]=Object.fromEntries(n),n.clear()}const i={type:"sub",parent:t,key:"items",path:r.path.concat("")};for(const s of zt){const o=t[s];o===void 0||Array.isArray(o)||(i.key=s,i.path[i.path.length-1]=s,a[s]=ke(o,e,i))}return e(a,r)}const Ft=(t,e)=>t?Ft(e%t,t):e,Mn=(t,e)=>Math.abs(t*e)/Ft(t,e);function Tn(t,e){return t===e?t:`^(?=.*(?:${t}))(?=.*(?:${e})).*$`}function*Ue(t,e,r){const a=t.length,n=e.length;if(a>0&&n>0)for(let i=0;i<a;i++){const s=t[i];for(let o=0;o<n;o++)yield r(s,e[o])}}function je(t,e){return t||e}function st(t){return(e,r)=>{const a={...e},n=Object.keys(r),i=n.length;for(let s=0;s<i;s++){const o=n[s];a[o]=e[o]===void 0?r[o]:t(e[o],r[o])}return a}}function Cn(t){const e=new Map;for(const r of t)for(const a of r[0])e.set(a,r[1]);return e}function be(t,e,r){r===void 0||ge(r)?delete t[e]:t[e]=r}const wn=["properties","patternProperties","additionalProperties"];function ot(t){const e=Object.keys(t),r=e.length,a=[];for(let n=0;n<r;n++){const i=e[n];a.push({regExp:new RegExp(i),schema:t[i]})}return[a,e]}const it=[[],[]];function lt(t,e,r){const a=r.length;for(let n=0;n<a;n++){const i=r[n];if(!i.regExp.test(e))continue;const s=i.schema;if(s===!1)return!0;t.push(s)}return!1}const kn=["items","additionalItems"],In=["if","then","else"];function ct(t,e){return e.if!==void 0&&(t.if=e.if),e.then!==void 0&&(t.then=e.then),e.else!==void 0&&(t.else=e.else),t}function Ke(t,e){if(t===e)return t;switch(t){case"number":if(e==="integer")return"integer";case"integer":if(e==="number")return"integer";default:return}}function Se(t,e,r){return[t,e,r]}function Vn(t){const e=new Map;for(const[r,a,n]of t){const i=s=>{if(!n(s))throw new Error(`Schema keys '${r}' and '${a}' are conflicting (${r}: ${JSON.stringify(s[r])}, ${a}: ${JSON.stringify(s[a])})`)};for(const s of[[r,a],[a,r]]){let o=e.get(s[0]);o===void 0&&(o=[],e.set(s[0],o)),o.push({oppositeKey:s[1],check:i})}}return e}const Nn=[Se("minimum","maximum",t=>t.maximum>=t.minimum),Se("exclusiveMinimum","maximum",t=>t.maximum>t.exclusiveMinimum),Se("minimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.minimum),Se("exclusiveMinimum","exclusiveMaximum",t=>t.exclusiveMaximum>t.exclusiveMinimum),Se("minLength","maxLength",t=>t.maxLength>=t.minLength),Se("minItems","maxItems",t=>t.maxItems>=t.minItems),Se("minProperties","maxProperties",t=>t.maxProperties>=t.minProperties)];function Bn({mergePatterns:t=Tn,isSubRegExp:e=Object.is,intersectJson:r=Gt,deduplicateJsonSchemaDef:a=Qe,defaultMerger:n=Qe,assigners:i=[],mergers:s,checks:o=Nn}={}){function m(c){const d=c.length;let u=c[0];for(let _=1;_<d;_++){const g=C(u,c[_]);if(g===!1)return!1;ge(g)||(u=g)}return u}function h(c,d,u,_,g,E,F){if(c.length=0,u===!1)return!1;if(c.push(u),g!==void 0){if(g===!1)return!1;c.push(g)}if(lt(c,d,E))return!1;const P=c.length<2;if(F===!1){if(P)return;if(lt(c,d,_))return!1}else P&&F!==void 0&&c.push(F);return c.length===1?c[0]:m(c)}function D(c,d,u,_,g,E){const F=u.length;if(F>0&&g!==!1)if(E)Object.assign(c,d);else for(let O=0;O<F;O++){const P=u[O];_.has(P)||(c[P]=C(d[P],g))}return c}const p=(c,{properties:d={},patternProperties:u,additionalProperties:_=!0},{properties:g={},patternProperties:E,additionalProperties:F=!0})=>{const O=ge(_),P=ge(F);if(O&&P)return be(c,"properties",X(d,g)),be(c,"patternProperties",u&&E?X(u,E):u??E),delete c.additionalProperties,c;const $=C(_,F);be(c,"additionalProperties",$);const A={},R=Object.keys(d),K=R.length,[w,Z]=u?ot(u):it,[z,ee]=E?ot(E):it,v=[],M=new Set,G=P?void 0:F;for(let me=0;me<K;me++){const ae=R[me];M.add(ae);const ce=h(v,ae,d[ae],w,g[ae],z,G);ce!==void 0&&(A[ae]=ce)}const te=Object.keys(g),ue=te.length,Re=O?void 0:_;for(let me=0;me<ue;me++){const ae=te[me];if(M.has(ae))continue;const ce=h(v,ae,g[ae],z,void 0,w,Re);ce!==void 0&&(A[ae]=ce)}be(c,"properties",A);let fe={};const Te=new Set;if(Z.length>0&&ee.length>0){const me=Ue(Z,ee,(ae,ce)=>{e(ae,ce)&&Te.add(ae),e(ce,ae)&&Te.add(ce),fe[t(ae,ce)]=C(u[ae],E[ce])});for(;!me.next().done;);}return fe=D(fe,u,Z,Te,F,P),fe=D(fe,E,ee,Te,_,O),be(c,"patternProperties",fe),c},k=(c,{items:d=[],additionalItems:u},{items:_=[],additionalItems:g})=>{const E=Array.isArray(d),F=Array.isArray(_),O=[];if(c.items=O,E&&F){const[P,$,A]=d.length<_.length?[d.length,u,_]:[_.length,g,d];let R=0;for(;R<P;R++)O.push(C(d[R],_[R]));if($===!1)c.additionalItems=!1;else{const K=$===void 0||ge($);for(;R<A.length;R++)O.push(K?A[R]:C(A[R],$));be(c,"additionalItems",u!==void 0&&g!==void 0?C(u,g):u??g)}}else if(E||F){const[P,$,A]=E?[d,_,u]:[_,d,g];be(c,"additionalItems",A&&C(A,$));for(let R=0;R<P.length;R++)O.push(C(P[R],$))}else delete c.additionalItems,c.items=C(d,_);return c},S=(c,d,u)=>{ct(c,d);const _=ct({},u);return c.allOf===void 0?c.allOf=[_]:c.allOf=c.allOf.concat(_),c};function I(c,d){return a(Array.from(Ue(c,d,C)))}const V=Cn([[wn,p],[kn,k],[In,S],...i]),H=Vn(o);function C(c,d){if(c===!1||d===!1)return!1;if(ge(c))return ge(d)?!0:d;if(ge(d))return c;let u={...c};const _=new Set,g=new Set,E=Object.keys(d),F=E.length;for(let O=0;O<F;O++){const P=E[O],$=d[P];if($===void 0)continue;const A=H.get(P);if(A!==void 0){const Z=A.length;for(let z=0;z<Z;z++){const ee=A[z];c[ee.oppositeKey]!==void 0&&g.add(ee.check)}}const R=c[P];if(R===void 0){u[P]=$;continue}const K=V.get(P);if(K){_.add(K);continue}const w=Q[P]??n;u[P]=w(R,$)}for(const O of _)u=O(u,c,d);for(const O of g)O(u);return u}const X=st(C),Q={$id:n,$ref:n,$schema:n,$comment:n,$defs:X,definitions:X,type:(c,d)=>{if(c===d)return c;const u=Array.isArray(c),_=Array.isArray(d);if(!u&&!_){const g=Ke(c,d);if(g!==void 0)return g}else if(u||_){const g=new Set;if(u&&_)for(const F of Ue(c,d,Ke))F!==void 0&&g.add(F);else{const F=u?c:d,O=u?d:c,P=F.length;for(let $=0;$<P;$++){const A=Ke(O,F[$]);A!==void 0&&g.add(A)}}const E=g.size;if(E===1)return g.values().next().value;if(E>1)return Array.from(g)}throw new Error(`It is not possible to create an intersection of the following incompatible types: ${c.toString()}, ${d.toString()}`)},default:n,description:n,title:n,const:n,format:n,contentEncoding:n,contentMediaType:n,not:(c,d)=>{const u=a([c,d]);return u.length===1?u[0]:{anyOf:u}},pattern:t,readOnly:je,writeOnly:je,enum:(c,d)=>{const u=r(c,d);if(u.length===0)throw new Error(`Intersection of the following enums is empty: "${JSON.stringify(c)}", "${JSON.stringify(d)}"`);return u},anyOf:I,oneOf:I,allOf:(c,d)=>a(c.concat(d)),propertyNames:C,contains:C,dependencies:st((c,d)=>Array.isArray(c)?Array.isArray(d)?Be(c,d):C(d,{required:c}):Array.isArray(d)?C(c,{required:d}):C(c,d)),examples:(c,d)=>{if(!Array.isArray(c)||!Array.isArray(d))throw new Error(`Value of the 'examples' field should be an array, but got "${JSON.stringify(c)}" and "${JSON.stringify(d)}"`);return Be(c,d)},multipleOf:(c,d)=>{let u=1;for(;!Number.isInteger(c)||!Number.isInteger(d);)u*=10,c*=10,d*=10;return Mn(c,d)/u},exclusiveMaximum:Math.min,maximum:Math.min,maxItems:Math.min,maxLength:Math.min,maxProperties:Math.min,exclusiveMinimum:Math.max,minimum:Math.max,minItems:Math.max,minLength:Math.max,minProperties:Math.max,uniqueItems:je,required:Be,...s};return{mergeSchemaDefinitions:C,mergeArrayOfSchemaDefinitions:m}}function Ln(t){const e=[],r=[t];for(;r.length>0;){const a=r.pop();if(typeof a=="boolean"||a.allOf===void 0){e.push(a);continue}const{allOf:n,...i}=a;e.push(i);for(let s=n.length-1;s>=0;s--)r.push(n[s])}return e}function Un(t){return e=>t(Ln(e))}function jn(t,e){return ke(t,r=>{if(!ht(r))return r;const a=r[Ze];return a!==void 0&&a.startsWith("#")&&(r[Ze]=`${e}${a}`),r})}function Kn(t){return t.split("/").slice(1).map(e=>e.replace(/~1/g,"/").replace(/~0/g,"~"))}function Hn(t,e){const r=[];if(t==="")return r;const a=Kn(t);let n=e;for(const i of a)if(Array.isArray(n)&&/^\d+$/.test(i)){const s=Number(i);r.push(s),n=n[s]}else r.push(i),n=n?.[i];return r}const Hs=[!0,!1];function He(t,e){return typeof t=="function"?t(e):t}const $e=Symbol("unchanged");function zn(t){return function e(r,a){if(r===a)return $e;if(typeof r=="object"&&typeof a=="object"){const n=Array.isArray(r),i=Array.isArray(a);if(n&&i){const s=Math.min(r.length,a.length);let o=0;for(;o<s;o++){const m=e(r[o],a[o]);m!==$e&&(r[o]=m)}if(r.length!==a.length){const m=t.get(r)??r;for(;o<a.length;o++)m.push(a[o]);m.splice(a.length)}return $e}if(!n&&!i&&r!==null&&a!==null&&et(r)&&et(a)){const s=Object.keys(r);let o=s.length;for(let h=0;h<o;h++){const D=s[h];D in a||delete r[D]}const m=Object.keys(a);o=m.length;for(let h=0;h<o;h++){const D=m[h],p=e(r[D],a[D]);p!==$e&&(r[D]=p)}return $e}}return a}}const Gn="uiOptionsRegistry";function Yn(t){let e=_e(pr(t));return{get current(){return l(e)},set current(r){he(e,r,!0)}}}function Jn(t){const e=b(()=>t.idPrefix??_t),r=b(()=>t.uiSchema??{}),a=b(()=>hr(l(r),t.uiSchema)??{}),n=b(()=>t[Gn]??{}),i=b(()=>(t.schema,{current:void 0})),s=b(()=>gr(l(i),[])),o=b(()=>He(t.validator,{uiSchema:l(r),uiOptionsRegistry:l(n),schema:t.schema,merger:()=>l(m)})),m=b(()=>He(t.merger,{validator:l(o),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n)})),h=b(()=>t.value?fn(t.value):Yn(l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}))),D=b(()=>He(t.idBuilder,{idPrefix:l(e),schema:t.schema,uiSchema:l(r),uiOptionsRegistry:l(n),merger:l(m),validator:l(o),valueRef:l(h)})),p=b(()=>vr(l(o),l(m),t.schema,t.schema,l(h).current)),k=new WeakMap,S=b(()=>gt(k,v=>l(D).fromPath(v))),I=b(()=>{const v=new _r(l(i)),M=t.initialErrors;return M===void 0?v:Array.isArray(M)?v.updateErrors(M):v.assign(M)}),V=b(()=>t.disabled??!1),H=b(()=>t.fieldsValidationMode??0),C=b(()=>t.keyedArraysMap??new WeakMap),X=b(()=>zn(l(C))),Q=b(()=>t.schedulerYield??(typeof scheduler<"u"&&"yield"in scheduler)?scheduler.yield.bind(scheduler):({signal:v})=>new Promise((M,G)=>{setTimeout(()=>{v.aborted?G(v.reason):M()},0)})),c=b(()=>dn(l(Q))),d=b(()=>mr(t.translation)),u=new Yt,_=b(()=>u.size>0),g=b(()=>yr(u,l(s),tt));let E=!0,F=b(()=>{t.schema;const v=E;return E=!1,v});const O=b(()=>"validateFormValueAsync"in l(o)?(v,M,G)=>l(o).validateFormValueAsync(v,M,G):(v,M,G)=>Promise.resolve(l(o).validateFormValue(M,G))),P=at({async execute(v){return Sr(w,l(s),tt),await l(O)(v,t.validateByRetrievedSchema?l(p):t.schema,yt(l(h).current))},onSuccess(v,M){if(br(w,v.errors??[]),v.errors===void 0){t.onSubmit?.(v.value,M),u.clear();return}t.onSubmitError?.(v,M,w)},onFailure(v,M){Le(w,l(s),[l(d)("validation-process-error",{error:v})]),t.onSubmissionFailure?.(v,M)},get combinator(){return t.submissionCombinator},get delayedMs(){return t.submissionDelayedMs},get timeoutMs(){return t.submissionTimeoutMs}}),$=b(()=>Or(l(o))?(v,M,G)=>l(o).validateFieldValueAsync(v,M,G):$r(l(o))?(v,M,G)=>Promise.resolve(l(o).validateFieldValue(M,G)):()=>Promise.resolve([])),A=at({execute(v,M,G){const te=t.fieldsValidationDebounceMs??300;if(te<0)return l($)(v,M,G);const ue=Promise.withResolvers(),Re=setTimeout(()=>{ue.resolve(l($)(v,M,G))},te),fe=()=>{clearTimeout(Re),ue.reject(new DOMException("field validation has been aborted","AbortError"))};return v.addEventListener("abort",fe),ue.promise.finally(()=>{v.removeEventListener("abort",fe)})},onSuccess(v,M){Le(w,M.path,v)},onFailure(v,M,G){v.reason!=="aborted"&&Le(w,M.path,[l(d)("validation-process-error",{error:v})]),t.onFieldsValidationFailure?.(v,M,G)},get combinator(){return t.fieldsValidationCombinator??mn},get delayedMs(){return t.fieldsValidationDelayedMs},get timeoutMs(){return t.fieldsValidationTimeoutMs}});function R(v){v.preventDefault(),P.run(v)}function K(v){v?.preventDefault(),u.clear(),l(I).clear(),l(h).current=l(m).mergeFormDataAndSchemaDefaults({formData:t.initialValue,schema:t.schema}),t.onReset?.(v)}const w={submission:P,fieldsValidation:A,get isSubmitted(){return l(g)},get isChanged(){return l(_)},submit:R,reset:K,[fr]:u,get[vt](){return l(e)},get[dr](){return l(I)},get[ur](){return l(i)},get[cr](){return l(S)},get[Ve](){return l(s)},get[Ie](){return l(h).current},set[Ie](v){l(h).current=v},get[lr](){return l(H)},get[ir](){return l(c)},get[or](){return l(C)},get[Ge](){return t.schema},get[ze](){return l(p)},get[sr](){return l(r)},get[xe](){return l(a)},get[ar](){return t.extraUiOptions},get[nr](){return l(n)},get[rr](){return l(V)},get[tr](){return l(o)},get[er](){return l(m)},get[Zt](){return l(Z)},get[Qt](){return t.theme},get[Xt](){return t.translation},get[Wt](){return l(d)},get[qt](){return t.icons},[Jt](){z||(z=!0,queueMicrotask(ee))}},Z=b(()=>t.resolver(w));let z=!1;function ee(){z=!1;const v=l(m).mergeFormDataAndSchemaDefaults({formData:l(h).current,schema:t.schema,initialDefaultsGenerated:l(F)});he(F,!0);const M=l(X)(l(h).current,v);M!==$e&&(l(h).current=M)}return w}var qn=U('<input type="hidden"/>');function Wn(t,e){B(e,!0);const r=T(e,"name",3,Ar);var a=qn();Pr(a),Pe(()=>{Fr(a,"name",r()),Rr(a,e.form[vt])}),f(t,a),L()}var Xn=U("<!> <!>",1);function Rt(t,e){B(e,!0);const r=Ne(),a=b(()=>({path:r[Ve],title:Er(r,r[xe])??r[ze].title??"",schema:r[ze],uiSchema:r[xe],required:!0})),n=b(()=>Dr(r,l(a)));var i=Xn(),s=y(i);Wn(s,{get form(){return r}});var o=Y(s,2);{let m=b(()=>Je(r,l(a)));x(o,()=>l(n),(h,D)=>{D(h,{type:"field",get config(){return l(a)},uiOption:p=>Ye(r,l(a),p),get translate(){return l(m)},get value(){return r[Ie]},set value(p){r[Ie]=p}})})}f(t,i),L()}function Qn(t,e){B(e,!0);const r=Ne(),a=b(()=>({path:bt(r,r[Ve],"submit"),title:"",schema:r[Ge],uiSchema:r[xe],required:!1})),n=b(()=>Ee(r,"submitButton",l(a)));var i=N(),s=y(i);x(s,()=>l(n),(o,m)=>{m(o,{get config(){return l(a)},children:(h,D)=>{{let p=b(()=>Je(r,l(a)));pt(h,{get config(){return l(a)},id:"submit",get translate(){return l(p)}})}},$$slots:{default:!0}})}),f(t,i),L()}function Pt(t,e){B(e,!0);let r=T(e,"ref",15);const a=Ne(),n=b(()=>({path:bt(a,a[Ve],"form"),title:"",schema:a[Ge],uiSchema:a[xe],required:!1})),i=b(()=>Ee(a,"form",l(n)));var s=N(),o=y(s);x(o,()=>l(i),(m,h)=>{h(m,{get config(){return l(n)},get children(){return e.children},get attributes(){return e.attributes},get ref(){return r()},set ref(D){r(D)}})}),f(t,s),L()}var Zn=U("<!> <!>",1);function Et(t,e){B(e,!0);let r=T(e,"ref",15),a=j(e,["$$slots","$$events","$$legacy","ref","form"]);St(e.form),Pt(t,{get attributes(){return a},get ref(){return r()},set ref(n){r(n)},children:(n,i)=>{var s=Zn(),o=y(s);Rt(o,{});var m=Y(o,2);Qn(m,{}),f(n,s)},$$slots:{default:!0}}),L()}const ea=qe(xr),Dt=Mr(ea,Tr);function ta(t,e){B(e,!0);let r=T(e,"open",15,!1),a=T(e,"onOpenChange",3,Ae),n=T(e,"onOpenChangeComplete",3,Ae);hn.create({variant:de(()=>"alert-dialog"),open:de(()=>r(),o=>{r(o),a()(o)}),onOpenChangeComplete:de(()=>n())});var i=N(),s=y(i);W(s,()=>e.children??re),f(t,i),L()}var ra=U("<button><!></button>");function na(t,e){const r=We();B(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=j(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=vn.create({id:de(()=>a()),ref:de(()=>n(),k=>n(k))}),o=b(()=>De(i,s.props));var m=N(),h=y(m);{var D=k=>{var S=N(),I=y(S);W(I,()=>e.child,()=>({props:l(o)})),f(k,S)},p=k=>{var S=ra();le(S,()=>({...l(o)}));var I=J(S);W(I,()=>e.children??re),q(S),f(k,S)};ye(h,k=>{e.child?k(D):k(p,!1)})}f(t,m),L()}var aa=U("<button><!></button>");function sa(t,e){const r=We();B(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=T(e,"disabled",3,!1),s=j(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const o=gn.create({id:de(()=>a()),ref:de(()=>n(),S=>n(S)),disabled:de(()=>!!i())}),m=b(()=>De(s,o.props));var h=N(),D=y(h);{var p=S=>{var I=N(),V=y(I);W(V,()=>e.child,()=>({props:l(m)})),f(S,I)},k=S=>{var I=aa();le(I,()=>({...l(m)}));var V=J(I);W(V,()=>e.children??re),q(I),f(S,I)};ye(D,S=>{e.child?S(p):S(k,!1)})}f(t,h),L()}var oa=U("<!> <!>",1),ia=U("<!> <div><!></div>",1);function la(t,e){const r=We();B(e,!0);let a=T(e,"id",19,()=>Xe(r)),n=T(e,"ref",15,null),i=T(e,"forceMount",3,!1),s=T(e,"interactOutsideBehavior",3,"ignore"),o=T(e,"onCloseAutoFocus",3,Ae),m=T(e,"onEscapeKeydown",3,Ae),h=T(e,"onOpenAutoFocus",3,Ae),D=T(e,"onInteractOutside",3,Ae),p=T(e,"preventScroll",3,!0),k=T(e,"trapFocus",3,!0),S=T(e,"restoreScrollDelay",3,null),I=j(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const V=_n.create({id:de(()=>a()),ref:de(()=>n(),c=>n(c))}),H=b(()=>De(I,V.props));var C=N(),X=y(C);{var Q=c=>{Cr(c,{get ref(){return V.opts.ref},loop:!0,get trapFocus(){return k()},get enabled(){return V.root.opts.open.current},get onCloseAutoFocus(){return o()},onOpenAutoFocus:u=>{h()(u),!u.defaultPrevented&&(u.preventDefault(),wr(0,()=>V.opts.ref.current?.focus()))},focusScope:(u,_)=>{let g=()=>_?.().props;kr(u,ne(()=>l(H),{get enabled(){return V.root.opts.open.current},get ref(){return V.opts.ref},onEscapeKeydown:E=>{m()(E),!E.defaultPrevented&&V.root.handleClose()},children:(E,F)=>{Ir(E,ne(()=>l(H),{get ref(){return V.opts.ref},get enabled(){return V.root.opts.open.current},get interactOutsideBehavior(){return s()},onInteractOutside:O=>{D()(O),!O.defaultPrevented&&V.root.handleClose()},children:(O,P)=>{Vr(O,ne(()=>l(H),{get ref(){return V.opts.ref},get enabled(){return V.root.opts.open.current},children:($,A)=>{var R=N(),K=y(R);{var w=z=>{var ee=oa(),v=y(ee);{var M=te=>{rt(te,{get preventScroll(){return p()},get restoreScrollDelay(){return S()}})};ye(v,te=>{V.root.opts.open.current&&te(M)})}var G=Y(v,2);{let te=b(()=>({props:De(l(H),g()),...V.snippetProps}));W(G,()=>e.child,()=>l(te))}f(z,ee)},Z=z=>{var ee=ia(),v=y(ee);rt(v,{get preventScroll(){return p()}});var M=Y(v,2);le(M,te=>({...te}),[()=>De(l(H),g())]);var G=J(M);W(G,()=>e.children??re),q(M),f(z,ee)};ye(K,z=>{e.child?z(w):z(Z,!1)})}f($,R)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};ye(X,c=>{(V.shouldRender||i())&&c(Q)})}f(t,C),L()}var ca=U("<div><!></div>");function ua(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ca();le(n,s=>({"data-slot":"sheet-footer",class:s,...a}),[()=>oe("mt-auto flex flex-col gap-2 p-4",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}function da(t,e){B(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Me(t,ne({name:"copy"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),L()}function fa(t,e){B(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Me(t,ne({name:"pencil"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),L()}function ma(t,e){B(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Me(t,ne({name:"save"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),L()}function ha(t,e){B(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Me(t,ne({name:"trash-2"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),L()}function xt(t,e){B(e,!0);let r=j(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Me(t,ne({name:"trash"},()=>r,{get iconNode(){return a},children:(n,i)=>{var s=N(),o=y(s);W(o,()=>e.children??re),f(n,s)},$$slots:{default:!0}})),L()}function Oe(t,e){}function va(t,e){B(e,!0),Us(e.crud.form);var r=N(),a=y(r);W(a,()=>e.children),f(t,r),L()}function ga(t,e){B(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);var n=N(),i=y(n);Nr(i,()=>r().form,s=>{va(s,{get crud(){return r()},children:(o,m)=>{var h=N(),D=y(h);{var p=S=>{Et(S,{get form(){return r().form},get ref(){return r().formElement},set ref(I){r().formElement=I}})},k=S=>{Pt(S,{get ref(){return r().formElement},set ref(I){r().formElement=I},children:(I,V)=>{Rt(I,{})},$$slots:{default:!0}})};ye(D,S=>{a()?S(k,!1):S(p)})}f(o,h)},$$slots:{default:!0}})}),f(t,n),L()}function Mt(t,e){B(e,!0);let r=T(e,"open",15,!1),a=j(e,["$$slots","$$events","$$legacy","open"]);var n=N(),i=y(n);x(i,()=>ta,(s,o)=>{o(s,ne(()=>a,{get open(){return r()},set open(m){r(m)}}))}),f(t,n),L()}function _a(t,e){let r=j(e,["$$slots","$$events","$$legacy"]);var a=N(),n=y(a);x(n,()=>Br,(i,s)=>{s(i,ne(()=>r))}),f(t,a)}function Tt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("text-lg font-semibold",e.class));x(i,()=>yn,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-title",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),L()}function Ct(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe(Ot(),e.class));x(i,()=>na,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-action",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),L()}function wt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe(Ot({variant:"outline"}),e.class));x(i,()=>sa,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-cancel",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),L()}var ya=U("<div><!></div>");function kt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ya();le(n,s=>({"data-slot":"alert-dialog-footer",class:s,...a}),[()=>oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var pa=U("<div><!></div>");function It(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=pa();le(n,s=>({"data-slot":"alert-dialog-header",class:s,...a}),[()=>oe("flex flex-col gap-2 text-center sm:text-start",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}function ba(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));x(i,()=>pn,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-overlay",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),L()}var Sa=U("<!> <!>",1);function Vt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);_a(t,ne(()=>e.portalProps,{children:(n,i)=>{var s=Sa(),o=y(s);ba(o,{});var m=Y(o,2);{let h=b(()=>oe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));x(m,()=>la,(D,p)=>{p(D,ne({"data-slot":"alert-dialog-content",get class(){return l(h)}},()=>a,{get ref(){return r()},set ref(k){r(k)}}))})}f(n,s)},$$slots:{default:!0}})),L()}function Nt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class"]);var n=N(),i=y(n);{let s=b(()=>oe("text-muted-foreground text-sm",e.class));x(i,()=>bn,(o,m)=>{m(o,ne({"data-slot":"alert-dialog-description",get class(){return l(s)}},()=>a,{get ref(){return r()},set ref(h){r(h)}}))})}f(t,n),L()}var Oa=U("<!> Cancel",1),$a=U("<!> Save",1),Aa=U('<div class="flex flex-col gap-4"><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><h2 class="text-lg font-semibold"> </h2> <!></div> <div><!> <!></div></div> <div><!></div></div>'),Fa=U("<!> <!>",1),Ra=U("<!> <!>",1),Pa=U("<!> <!>",1),Ea=U("<!> <!>",1);function Da(t,e){B(e,!0);let r=T(e,"self",7),a=T(e,"hideSubmitButton",3,!1);const n=b(()=>e.formTitle?r().editingRecord!=null?`Edit ${e.formTitle}`:`Create ${e.formTitle}`:r().editingRecord!=null?"Edit":"Create");var i=Ea(),s=y(i);{var o=h=>{var D=Aa(),p=J(D),k=J(p),S=J(k),I=J(S,!0);q(S);var V=Y(S,2);{var H=u=>{Fe(u,{variant:"ghost",size:"icon-sm",class:"text-muted-foreground",onclick:()=>r().openDelete(r().editingRecord),children:(_,g)=>{ha(_,{})},$$slots:{default:!0}})};ye(V,u=>{r().editingRecord&&u(H)})}q(k);var C=Y(k,2),X=J(C);Fe(X,{variant:"outline",onclick:()=>{r().isFormOpen=!1,e.onCancel?.()},children:(u,_)=>{var g=Oa(),E=y(g);Sn(E,{}),se(),f(u,g)},$$slots:{default:!0}});var Q=Y(X,2);Fe(Q,{onclick:()=>r().submitForm(),children:(u,_)=>{var g=$a(),E=y(g);ma(E,{}),se(),f(u,g)},$$slots:{default:!0}}),q(C),q(p);var c=Y(p,2),d=J(c);x(d,()=>r().Form,(u,_)=>{_(u,{get self(){return r()},get hideSubmitButton(){return a()}})}),q(c),q(D),Pe(()=>Ce(I,l(n))),f(h,D)};ye(s,h=>{r().isFormOpen&&h(o)})}var m=Y(s,2);x(m,()=>Mt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,k)=>{var S=N(),I=y(S);x(I,()=>Vt,(V,H)=>{H(V,{children:(C,X)=>{var Q=Pa(),c=y(Q);x(c,()=>It,(u,_)=>{_(u,{children:(g,E)=>{var F=Fa(),O=y(F);x(O,()=>Tt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("Delete record");f(R,w)},$$slots:{default:!0}})});var P=Y(O,2);x(P,()=>Nt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("This action cannot be undone.");f(R,w)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=Y(c,2);x(d,()=>kt,(u,_)=>{_(u,{children:(g,E)=>{var F=Ra(),O=y(F);x(O,()=>wt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("Cancel");f(R,w)},$$slots:{default:!0}})});var P=Y(O,2);x(P,()=>Ct,($,A)=>{A($,{onclick:()=>{r().confirmDelete(),e.onConfirmDelete?.()},children:(R,K)=>{se();var w=ie("Delete");f(R,w)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),f(t,i),L()}var xa=U('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function Ma(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=xa(),i=J(n);le(i,o=>({"data-slot":"table",class:o,...a}),[()=>oe("w-full caption-bottom text-sm",e.class)]);var s=J(i);W(s,()=>e.children??re),q(i),ve(i,o=>r(o),()=>r()),q(n),f(t,n),L()}var Ta=U("<tbody><!></tbody>");function Ca(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ta();le(n,s=>({"data-slot":"table-body",class:s,...a}),[()=>oe("[&_tr:last-child]:border-0",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var wa=U("<td><!></td>");function ut(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=wa();le(n,s=>({"data-slot":"table-cell",class:s,...a}),[()=>oe("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var ka=U("<th><!></th>");function dt(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ka();le(n,s=>({"data-slot":"table-head",class:s,...a}),[()=>oe("text-foreground h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pe-0",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var Ia=U("<thead><!></thead>");function Va(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ia();le(n,s=>({"data-slot":"table-header",class:s,...a}),[()=>oe("[&_tr]:border-b",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var Na=U("<tr><!></tr>");function ft(t,e){B(e,!0);let r=T(e,"ref",15,null),a=j(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Na();le(n,s=>({"data-slot":"table-row",class:s,...a}),[()=>oe("hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e.class)]);var i=J(n);W(i,()=>e.children??re),q(n),ve(n,s=>r(s),()=>r()),f(t,n),L()}var Ba=U("<!> <!>",1),La=U('<div class="flex gap-2"><!> <!></div>'),Ua=U("<!> <!>",1),ja=U("<!> <!>",1),Ka=U('<!> <div class="p-4"><!></div> <!>',1),Ha=U("<!> <!>",1),za=U("<!> <!>",1),Ga=U("<!> <!>",1),Ya=U('<div class="flex flex-col gap-4"><div class="rounded-md border"><!></div></div> <!> <!>',1);function Ja(t,e){B(e,!0);let r=T(e,"self",7);var a=Ya(),n=y(a),i=J(n),s=J(i);x(s,()=>Ma,(h,D)=>{D(h,{children:(p,k)=>{var S=ja(),I=y(S);x(I,()=>Va,(H,C)=>{C(H,{children:(X,Q)=>{var c=N(),d=y(c);x(d,()=>ft,(u,_)=>{_(u,{children:(g,E)=>{var F=Ba(),O=y(F);we(O,16,()=>r().columns,$=>$,($,A)=>{var R=N(),K=y(R);x(K,()=>dt,(w,Z)=>{Z(w,{children:(z,ee)=>{se();var v=ie();Pe(()=>Ce(v,A)),f(z,v)},$$slots:{default:!0}})}),f($,R)});var P=Y(O,2);x(P,()=>dt,($,A)=>{A($,{class:"w-[120px]",children:(R,K)=>{se();var w=ie("Actions");f(R,w)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(X,c)},$$slots:{default:!0}})});var V=Y(I,2);x(V,()=>Ca,(H,C)=>{C(H,{children:(X,Q)=>{var c=N(),d=y(c);we(d,17,()=>r().records,u=>r().getKey(u),(u,_)=>{var g=N(),E=y(g);x(E,()=>ft,(F,O)=>{O(F,{children:(P,$)=>{var A=Ua(),R=y(A);we(R,16,()=>r().columns,w=>w,(w,Z)=>{var z=N(),ee=y(z);x(ee,()=>ut,(v,M)=>{M(v,{children:(G,te)=>{se();var ue=ie();Pe(Re=>Ce(ue,Re),[()=>r().displayValue(l(_)[Z])]),f(G,ue)},$$slots:{default:!0}})}),f(w,z)});var K=Y(R,2);x(K,()=>ut,(w,Z)=>{Z(w,{children:(z,ee)=>{var v=La(),M=J(v);Fe(M,{variant:"ghost",size:"icon-sm",onclick:()=>r().openEdit(l(_)),children:(te,ue)=>{fa(te,{})},$$slots:{default:!0}});var G=Y(M,2);Fe(G,{variant:"ghost",size:"icon-sm",onclick:()=>r().openDelete(l(_)),children:(te,ue)=>{xt(te,{})},$$slots:{default:!0}}),q(v),f(z,v)},$$slots:{default:!0}})}),f(P,A)},$$slots:{default:!0}})}),f(u,g)}),f(X,c)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),q(i),q(n);var o=Y(n,2);x(o,()=>Fn,(h,D)=>{D(h,{get open(){return r().isFormOpen},set open(p){r().isFormOpen=p},children:(p,k)=>{var S=N(),I=y(S);x(I,()=>On,(V,H)=>{H(V,{class:"overflow-y-auto",children:(C,X)=>{var Q=Ka(),c=y(Q);x(c,()=>$n,(g,E)=>{E(g,{children:(F,O)=>{var P=N(),$=y(P);x($,()=>An,(A,R)=>{R(A,{children:(K,w)=>{se();var Z=ie();Pe(()=>Ce(Z,r().editingRecord!=null?"Edit":"Create")),f(K,Z)},$$slots:{default:!0}})}),f(F,P)},$$slots:{default:!0}})});var d=Y(c,2),u=J(d);Et(u,{get form(){return r().form}}),q(d);var _=Y(d,2);x(_,()=>ua,(g,E)=>{E(g,{children:(F,O)=>{Fe(F,{variant:"outline",onclick:()=>r().isFormOpen=!1,children:(P,$)=>{se();var A=ie("Cancel");f(P,A)},$$slots:{default:!0}})},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})});var m=Y(o,2);x(m,()=>Mt,(h,D)=>{D(h,{get open(){return r().isDeleteDialogOpen},set open(p){r().isDeleteDialogOpen=p},children:(p,k)=>{var S=N(),I=y(S);x(I,()=>Vt,(V,H)=>{H(V,{children:(C,X)=>{var Q=Ga(),c=y(Q);x(c,()=>It,(u,_)=>{_(u,{children:(g,E)=>{var F=Ha(),O=y(F);x(O,()=>Tt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("Delete record");f(R,w)},$$slots:{default:!0}})});var P=Y(O,2);x(P,()=>Nt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("This action cannot be undone.");f(R,w)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})});var d=Y(c,2);x(d,()=>kt,(u,_)=>{_(u,{children:(g,E)=>{var F=za(),O=y(F);x(O,()=>wt,($,A)=>{A($,{children:(R,K)=>{se();var w=ie("Cancel");f(R,w)},$$slots:{default:!0}})});var P=Y(O,2);x(P,()=>Ct,($,A)=>{A($,{onclick:()=>r().confirmDelete(),children:(R,K)=>{se();var w=ie("Delete");f(R,w)},$$slots:{default:!0}})}),f(g,F)},$$slots:{default:!0}})}),f(C,Q)},$$slots:{default:!0}})}),f(p,S)},$$slots:{default:!0}})}),f(t,a),L()}class zs{constructor(e,r={}){this.repository=e,this.options=r}get Table(){return Ja}get Form(){return ga}get Forms(){return Da}get schema(){return this.repository.getSchema()}get uiSchema(){return Rn.merge(qa(this.options.form??{}),this.repository.getUiSchema?.())}get records(){return this.repository.list()}get entityName(){return this.repository.getEntityName()}get def(){return this.schema.$defs?.[this.entityName]}get columns(){return this.def&&typeof this.def=="object"&&"properties"in this.def&&this.def.properties?Object.keys(this.def.properties):[]}#i=b(()=>Ls({schema:this.schema,uiSchema:this.uiSchema,initialValue:this.editingRecord??this.createInitialValue??void 0,onSubmit:e=>this.handleSubmit(e)}));get form(){return l(this.#i)}#e=_e();get formElement(){return l(this.#e)}set formElement(e){he(this.#e,e,!0)}submitForm(){this.formElement?.requestSubmit()}#t=_e(!1);get isFormOpen(){return l(this.#t)}set isFormOpen(e){he(this.#t,e,!0)}#r=_e(null);get editingRecord(){return l(this.#r)}set editingRecord(e){he(this.#r,e,!0)}#n=_e(null);get createInitialValue(){return l(this.#n)}set createInitialValue(e){he(this.#n,e,!0)}#a=_e(null);get createCallback(){return l(this.#a)}set createCallback(e){he(this.#a,e,!0)}#s=_e(!1);get isDeleteDialogOpen(){return l(this.#s)}set isDeleteDialogOpen(e){he(this.#s,e,!0)}#o=_e(null);get recordToDelete(){return l(this.#o)}set recordToDelete(e){he(this.#o,e,!0)}openCreate(e){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=null,this.isFormOpen=!0}openCreateWithCallback(e,r){this.editingRecord=null,this.createInitialValue=e??null,this.createCallback=r,this.isFormOpen=!0}openEdit(e){this.editingRecord=e,this.createInitialValue=null,this.createCallback=null,this.isFormOpen=!0}openDelete(e){this.recordToDelete=e,this.isDeleteDialogOpen=!0}handleSubmit(e){if(this.editingRecord!=null){const r=this.repository.getKey(this.editingRecord),a=this.repository.update(r,e);a.isOk?(pe.success("Record updated"),this.isFormOpen=!1):pe.error(a.error.message)}else{const r=this.createCallback;if(r)r(e),this.createCallback=null,this.createInitialValue=null,this.isFormOpen=!1,pe.success("Record created");else{const a=this.repository.create(e);a.isOk?(pe.success("Record created"),this.isFormOpen=!1,this.createInitialValue=null):pe.error(a.error.message)}}}confirmDelete(){if(this.recordToDelete==null)return;const e=this.repository.getKey(this.recordToDelete),r=this.repository.delete(e);r.isOk?(pe.success("Record deleted"),this.isDeleteDialogOpen=!1,this.recordToDelete=null):pe.error(r.error.message)}displayValue(e){return e==null?"":typeof e=="object"?JSON.stringify(e):String(e)}getKey(e){return this.repository.getKey(e)}}function qa(t){const e={arrayTemplate:Oe,objectTemplate:Oe,fieldTemplate:Oe,arrayItemTemplate:Oe,multiFieldTemplate:Oe,objectPropertyTemplate:Oe},r={};for(const a in t.hide)r[a]={"ui:components":e};return r}function Wa(t){return({schema:e})=>{if(e.oneOf!==void 0)return"oneOfField";if(e.anyOf!==void 0)return"anyOfField";const r=$t(e);return r==="array"?At(e)?"tupleField":"arrayField":`${r}Field`}}const Xa={submit:"Submit","array-schema-missing-items":"Missing items definition",yes:"Yes",no:"No","multi-schema-option-label-with-title":({title:t,index:e})=>`${t} option ${e+1}`,"multi-schema-option-label":({index:t})=>`Option ${t+1}`,"add-array-item":"Add item","copy-array-item":"Copy","add-object-property":"Add property","move-array-item-down":"Down","move-array-item-up":"Up","remove-array-item":"Del","remove-object-property":"Del",edit:"Edit",clear:"Clear","validation-process-error":({error:t})=>Qa[t.reason],"component-not-found":({type:t})=>`"${t}" component not found`,"key-input-title":({name:t})=>`${t} Key`,"additional-property":"Additional property","unknown-field-error":({schema:t})=>`You're seeing this error because your JSON Schema doesnâ€™t contain enough information
to determine its type. You can:
- specify the schema type (for example, using the 'type' keyword)
- specify which component to use via UiSchema
  ('{ "ui:components": { "unknownField": "myField" } }')
- specify which component to use by providing a custom 'resolver'
  (https://x0k.dev/svelte-jsonschema-form/guides/fields-resolution/)

JSON Schema:
${JSON.stringify(t,null,2)}`},Qa={aborted:"Validation aborted",timeout:"Validation terminated by timeout",error:"Something went wrong during validation"},Za=qe(Xa),es=t=>{En(t,{size:20})},ts=t=>{Pn(t,{size:20})},mt=t=>{xt(t,{size:20})},rs=t=>{da(t,{size:20})},ns={"move-array-item-up":es,"move-array-item-down":ts,"remove-array-item":mt,"copy-array-item":rs,"remove-object-property":mt},as=ns,ss=qe(as),os=".",is="::";function ls({idPrefix:t=_t,idSeparator:e=os,idPseudoSeparator:r=is}){return{fromPath:a=>{let n="";for(let i=0;i<a.length;i++){const s=a[i],o=Lr(s);n+=o!==void 0?`${r}${o}`:`${e}${s}`}return`${t}${n}`}}}function cs({jsonSchemaMerger:{mergeSchemaDefinitions:t,mergeArrayOfSchemaDefinitions:e}=Bn(),jsonSchemaAllOfMerge:r=Un(e)}={}){return{mergeSchemas(a,n){return t(a,n)},mergeAllOf(a){return r(a)}}}function us(t){const e=cs(t);return{...e,mergeFormDataAndSchemaDefaults({formData:r,schema:a,initialDefaultsGenerated:n=!1,includeUndefinedValues:i=!1}){return Ur(t.validator,e,a,r,t.schema,i,t,n)}}}const ds={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!0},fs=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ms=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function hs(t){return t.addFormat("color",fs),t.addFormat(Kr,ms),t}function vs(t){return t.addKeyword(jr),t}function Bt(t){return vs(hs(t))}function gs(t,e,r=new WeakMap){let a="",n=!1;const i=zr(r,s=>{let o=s;return n&&(o=jn(s,a),delete o[nt]),t.compile(o)});return(s,o)=>{a=o[nt]??Hr;let m=t.getSchema(a)?.schema;return m!==void 0&&m!==o&&(t.removeSchema(a),r.delete(s),m=void 0),m===void 0&&t.addSchema(o,a),n=s!==o,i(s)}}function _s(t,e){const a=gt(new WeakMap,n=>t.compile({...n,$async:e}));return n=>a(n.schema)}function ys({params:{missingProperty:t,propertyName:e},propertyName:r=e},a){let n=a;return n=t!==void 0?a.concat(t):n,n=r!==void 0?a.concat(r,Gr("key-input")):n,n}function Lt({params:{missingProperty:t},parentSchema:e,message:r},a){if(!r)return"";if(t===void 0)return r;const n=a(t,e);return n===void 0?r:r.replace(t,n)}function ps({uiSchema:t={}}){return(e,r)=>({value:r,errors:e.map(a=>{const n=Hn(a.instancePath,r);return{path:ys(a,n),message:Lt(a,(i,s)=>{const o=Yr(t,n.concat(i));if(o!==void 0)return o;const m=s?.properties?.[i];if(typeof m=="object")return m.title})}})})}function Ut(t){return t.instancePath===""}function bs(t){return Ut(t)&&t.keyword!=="type"}function Ss(t){return e=>e.filter(t.required?Ut:bs).map(r=>Lt(r,()=>t.title))}function jt(t,e,r,a){t(e);const n=t.errors;return t.errors=null,n?a(n,e):r(e)}const Os=t=>({value:t}),$s=()=>[];function As({compileSchema:t}){return{isValid(e,r,a){if(typeof e=="boolean")return e;const n=t(e,r);try{return n(a)}catch(i){return console.warn("Failed to validate",i),!1}}}}function Fs(t){const e=ps(t);return{validateFormValue(r,a){return jt(t.compileSchema(r,r),a,Os,e)}}}function Rs({compileFieldSchema:t}){return{validateFieldValue(e,r){return jt(t(e),r,$s,Ss(e))}}}function Ps({ajvOptions:t=ds,ajvPlugins:e=Bt,ajv:r=e(new Dn.Ajv(t)),validatorsCache:a,compileSchema:n=gs(r,!1,a),compileFieldSchema:i=_s(r,!1),...s}={}){const o={...s,compileSchema:n,compileFieldSchema:i};return Object.assign(As(o),Fs(o),Rs(o))}function Es(t){try{return{ok:!0,value:JSON.parse(t)}}catch(e){return{ok:!1,error:e}}}function Ds(t){return Es(t).ok}function Gs(t){return t.startsWith("{")}function Ys(t){return t.startsWith("[")}function Js(t){return t.startsWith('"')}function qs(t){return t[0]>="0"&&t[0]<="9"||t[0]==="-"}function Ws(t){return t==="true"||t==="false"}function xs(t){try{return new RegExp(t),!0}catch{return!1}}function Ms(t){return t.addFormat("json",Ds),t.addFormat("regexp",xs),t}const Ts=t=>Ps({...t,ajvPlugins:e=>Bt(Ms(e))}),Cs=Object.freeze(Object.defineProperty({__proto__:null,icons:ss,idBuilder:ls,merger:us,resolver:Wa,theme:Dt,translation:Za,validator:Ts},Symbol.toStringTag,{value:"Module"})),ws=t=>t;function ks(t,{delay:e=0,duration:r=400,easing:a=ws}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:i=>`opacity: ${i*n}`}}var Is=U("<div><!></div>");function Vs(t,e){B(e,!0);const r=p=>{var k=N(),S=y(k);{let I=b(()=>i.errors());x(S,()=>l(m),(V,H)=>{H(V,{get errors(){return l(I)},get config(){return e.config},disabled:!1,type:"array-item-add",get onclick(){return i.pushItem},children:(C,X)=>{pt(C,{get config(){return e.config},id:"add-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})})}f(p,k)};let a=T(e,"value",15);const n=Ne(),i=Xr({ctx:n,config:()=>e.config,value:()=>a(),keyedArray:Qr(n,()=>a(),()=>new en(p=>a(p)),(p,k)=>new Zr(p,k))});Jr(i);const s=b(()=>Ee(n,"arrayItemField",e.config)),o=b(()=>Ee(n,"arrayTemplate",e.config)),m=b(()=>Ee(n,"button",e.config));var h=N(),D=y(h);{let p=b(()=>i.errors()),k=b(()=>i.canAdd()?r:void 0);x(D,()=>l(o),(S,I)=>{I(S,{type:"template",get errors(){return l(p)},get config(){return e.config},get value(){return a()},get uiOption(){return e.uiOption},get addButton(){return l(k)},children:(V,H)=>{var C=N(),X=y(C);we(X,27,()=>({length:i.length()}),(Q,c)=>i.key(c),(Q,c,d)=>{const u=b(()=>i.itemConfig(e.config,a()?.[l(d)],l(d)));var _=Is(),g=J(_),E=()=>a()?.[l(d)],F=O=>i.set(l(d),O);{let O=b(()=>Je(n,l(u)));x(g,()=>l(s),(P,$)=>{$(P,{type:"field",get index(){return l(d)},get config(){return l(u)},get value(){return E()},set value(A){F(A)},uiOption:A=>Ye(n,l(u),A),get translate(){return l(O)}})})}q(_),qr(_,()=>xn,()=>({duration:500})),Wr(3,_,()=>ks),f(Q,_)}),f(V,C)},$$slots:{default:!0}})})}f(t,h),L()}function Ns(t){return e=>{const{schema:r}=e;if(tn(t,r))return"enumField";if(r.oneOf!==void 0)return"oneOfField";if(r.anyOf!==void 0)return"anyOfField";const a=$t(r);return a==="array"?rn(t,r)?"multiEnumField":At(r)?"tupleField":nn(t,r)&&Ye(t,e,"orderable")!==!0?"filesField":"arrayField":an(r)?"fileField":`${a}Field`}}const Bs=un(Dt,{arrayField:Vs});function Ls(t){const{schema:e,uiSchema:r,initialValue:a,onSubmit:n}=t;return Jn({...Cs,resolver:Ns,theme:Bs,get initialValue(){return cn(()=>yt(a))},get schema(){return e},get uiSchema(){return r},fieldsValidationMode:on|ln,fieldsValidationDebounceMs:200,onSubmit(s,o){o.preventDefault(),n?.(s)}})}function Us(t){St(t),sn(()=>{t.fieldsValidation.abort()})}export{zs as C,Hs as D,Oe as H,fa as P,ma as S,ha as T,Rt as a,Bn as b,Jn as c,Cs as d,xs as e,ks as f,Gs as g,Ys as h,Ds as i,Js as j,qs as k,Ws as l,Ps as m,Bt as n,Ms as o,Ts as v};
