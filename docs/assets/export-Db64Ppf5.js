import{p as B,ac as j,k as o,s as m,c as f,z as C,r as v,b as s,d as D,F as p,dq as g,_ as O,a1 as P,y as $,h as u,f as l,e as h,dr as q,B as F,ds as S,n as T,av as _}from"./index-Ki4yPyoa.js";import{a as A}from"./await-sZRi8wAM.js";import{h as G,a as H}from"./shiki-BXfZufVC.js";var I=l("<!> Download",1),J=l('<p class="text-destructive"> </p>'),K=l('<div class="dark min-h-0 flex-1 overflow-auto rounded-lg bg-slate-900" data-code-overflow=""><!></div>'),M=l('<p class="text-muted-foreground">Loading previewâ€¦</p>'),N=l('<div class="flex min-h-0 grow flex-col gap-4 p-4"><!></div>');function X(x,b){B(b,!0);const w=a=>{F(a,{onclick:k,children:(e,t)=>{var r=I(),i=u(r);S(i,{}),T(),s(e,r)},$$slots:{default:!0}})},n=p(()=>g(h));j(()=>{o(n).isErr?m({title:"Export"}):m({title:"Export",right:w})});function k(){const a=g(h);if(a.isErr){_.error(a.error.message);return}const e=new Blob([a.value],{type:"application/yaml"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="formata-config.yaml",r.click(),URL.revokeObjectURL(t),_.success("Config exported")}var c=N(),E=f(c);{var y=a=>{var e=J(),t=f(e,!0);v(e),O(()=>P(t,o(n).error.message)),s(a,e)},L=a=>{var e=$(),t=u(e);A(t,()=>G,r=>{var i=M();s(r,i)},(r,i)=>{const R=p(()=>o(n).value),U=p(()=>H(o(i),"yaml",o(R)));var d=K(),z=f(d);q(z,()=>o(U)),v(d),s(r,d)}),s(a,e)};C(E,a=>{o(n).isErr?a(y):a(L,!1)})}v(c),s(x,c),D()}export{X as default};
