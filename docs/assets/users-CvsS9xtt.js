import{p as f,c as a,a as p,b as g,d as m,f as h,r as l}from"./index-BuAdgX0P.js";import{g as U,R as i,s as x,c as v}from"./_layout-Cm-KocWj.js";import{C as w}from"./form.svelte-B7PYDWH7.js";import"./shiki-DPQvuX4i.js";import"./single-dropzone-DD1tLh7K.js";import{S as E}from"./select-department-DPJH8BpR.js";import{N as b}from"./new-button-CJlxFjJf.js";class C{constructor(r){this.config=r}getEntityName(){return"User"}getKey(r){return r.id}getSchema(){return U("User")}getUiSchema(){return{departmentId:{"ui:components":{textWidget:E},"ui:options":{attestaConfig:this.config}}}}list(){return this.config.users}getOne(r){const e=this.config.users.find(t=>t.id===r);return e!==void 0?i.ok(e):i.err(new Error(`User not found: ${r}`))}create(r){return this.config.users.some(e=>e.id===r.id)?i.err(new Error(`User already exists: ${r.id}`)):(this.config.users=[...this.config.users,r],i.ok(r))}update(r,e){return this.config.users.findIndex(s=>s.id===r)===-1?i.err(new Error(`User not found: ${r}`)):(this.config.users=this.config.users.map(s=>s.id===r?e:s),i.ok(e))}delete(r){return this.config.users.findIndex(t=>t.id===r)===-1?i.err(new Error(`User not found: ${r}`)):(this.config.users=this.config.users.filter(t=>t.id!==r),i.ok(void 0))}}var S=h('<div class="p-4"><!></div>');function K(u,r){f(r,!0);const e=n=>{b(n,{onClick:()=>s.openCreate()})},t=new C(v),s=new w(t);x({title:"Users",right:e});var o=S(),c=m(o);a(c,()=>s.Table,(n,d)=>{d(n,{get self(){return s}})}),l(o),p(u,o),g()}export{K as default};
